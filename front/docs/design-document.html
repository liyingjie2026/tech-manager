<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>湖南省自然资源科研项目管理系统 - 初步设计方案</title>
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: "Microsoft YaHei", "SimSun", Arial, sans-serif;
            line-height: 1.8;
            color: #333;
            background: #fff;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* 封面样式 */
        .cover {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            page-break-after: always;
        }
        
        .cover h1 {
            font-size: 48px;
            margin-bottom: 30px;
            font-weight: bold;
        }
        
        .cover h2 {
            font-size: 32px;
            margin-bottom: 60px;
            font-weight: normal;
        }
        
        .cover-info {
            font-size: 20px;
            line-height: 2.5;
        }
        
        /* 目录样式 */
        .toc {
            page-break-after: always;
            padding: 40px 0;
        }
        
        .toc h2 {
            font-size: 36px;
            margin-bottom: 40px;
            text-align: center;
            color: #667eea;
        }
        
        .toc-item {
            padding: 12px 20px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
        }
        
        .toc-item:hover {
            background: #f5f5f5;
        }
        
        .toc-level-1 {
            font-weight: bold;
            font-size: 18px;
            margin-top: 20px;
        }
        
        .toc-level-2 {
            padding-left: 40px;
            font-size: 16px;
        }
        
        .toc-level-3 {
            padding-left: 60px;
            font-size: 14px;
            color: #666;
        }
        
        /* 章节样式 */
        .chapter {
            page-break-before: always;
            padding: 40px 0;
        }
        
        h1 {
            font-size: 36px;
            color: #667eea;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 3px solid #667eea;
        }
        
        h2 {
            font-size: 28px;
            color: #764ba2;
            margin: 40px 0 20px 0;
            padding-left: 15px;
            border-left: 5px solid #764ba2;
        }
        
        h3 {
            font-size: 22px;
            color: #555;
            margin: 30px 0 15px 0;
        }
        
        h4 {
            font-size: 18px;
            color: #666;
            margin: 20px 0 10px 0;
        }
        
        p {
            margin: 15px 0;
            text-indent: 2em;
            text-align: justify;
        }
        
        .no-indent {
            text-indent: 0;
        }
        
        /* 表格样式 */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }
        
        td {
            padding: 12px 15px;
            border: 1px solid #ddd;
        }
        
        tr:nth-child(even) {
            background: #f9f9f9;
        }
        
        tr:hover {
            background: #f0f0f0;
        }
        
        /* 图片样式 */
        .figure {
            margin: 30px 0;
            text-align: center;
        }
        
        .figure img {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .figure-caption {
            margin-top: 15px;
            font-size: 14px;
            color: #666;
            font-style: italic;
        }
        
        /* 代码块样式 */
        pre {
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
            border-radius: 5px;
            font-family: "Courier New", monospace;
            font-size: 14px;
            line-height: 1.6;
        }
        
        code {
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: "Courier New", monospace;
            color: #d63384;
        }
        
        /* 列表样式 */
        ul, ol {
            margin: 15px 0 15px 40px;
        }
        
        li {
            margin: 8px 0;
        }
        
        /* 提示框样式 */
        .alert {
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border-left: 5px solid;
        }
        
        .alert-info {
            background: #e7f3ff;
            border-color: #2196F3;
            color: #0c5aa6;
        }
        
        .alert-warning {
            background: #fff8e1;
            border-color: #ff9800;
            color: #f57c00;
        }
        
        .alert-success {
            background: #e8f5e9;
            border-color: #4caf50;
            color: #2e7d32;
        }
        
        .alert-danger {
            background: #ffebee;
            border-color: #f44336;
            color: #c62828;
        }
        
        /* 架构图样式 */
        .architecture-box {
            border: 2px solid #667eea;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        
        .layer {
            background: white;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .layer-title {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .module-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .module {
            background: #f0f4ff;
            padding: 12px;
            border-radius: 5px;
            text-align: center;
            border: 1px solid #667eea;
        }
        
        /* 流程图样式 */
        .flow-chart {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            margin: 30px 0;
        }
        
        .flow-step {
            background: #667eea;
            color: white;
            padding: 20px 30px;
            border-radius: 8px;
            margin: 10px;
            min-width: 150px;
            text-align: center;
            position: relative;
        }
        
        .flow-arrow {
            font-size: 24px;
            color: #667eea;
            margin: 0 10px;
        }
        
        /* 页码 */
        .page-number {
            text-align: center;
            margin-top: 40px;
            color: #999;
            font-size: 14px;
        }
        
        /* 打印优化 */
        @media print {
            .chapter {
                page-break-before: always;
            }
            
            table {
                page-break-inside: avoid;
            }
            
            .figure {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>

<!-- 封面 -->
<div class="cover">
    <h1>湖南省自然资源科研项目管理系统</h1>
    <h2>初步设计方案</h2>
    <div class="cover-info">
        <p>版本：V1.0</p>
        <p>日期：2025年1月</p>
        <p>编制单位：湖南省自然资源事务中心</p>
        <p>技术环境：麒麟操作系统 + 人大金仓数据库</p>
    </div>
</div>

<!-- 目录 -->
<div class="container toc">
    <h2>目 录</h2>
    
    <div class="toc-item toc-level-1">
        <span>第1章 项目概述</span>
        <span>1</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>1.1 项目背景</span>
        <span>2</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>1.2 建设目标</span>
        <span>4</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>1.3 建设原则</span>
        <span>6</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>1.4 建设内容</span>
        <span>8</span>
    </div>
    
    <div class="toc-item toc-level-1">
        <span>第2章 需求分析</span>
        <span>12</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>2.1 业务需求分析</span>
        <span>13</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>2.2 功能需求分析</span>
        <span>18</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>2.3 性能需求分析</span>
        <span>25</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>2.4 安全需求分析</span>
        <span>28</span>
    </div>
    
    <div class="toc-item toc-level-1">
        <span>第3章 系统架构设计</span>
        <span>32</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>3.1 总体架构设计</span>
        <span>33</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>3.2 技术架构设计</span>
        <span>38</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>3.3 应用架构设计</span>
        <span>45</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>3.4 数据架构设计</span>
        <span>52</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>3.5 网络架构设计</span>
        <span>58</span>
    </div>
    
    <div class="toc-item toc-level-1">
        <span>第4章 功能模块详细设计</span>
        <span>65</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>4.1 监测监管端</span>
        <span>66</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.1.1 需求管理</span>
        <span>68</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.1.2 申报管理</span>
        <span>72</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.1.3 立项评审</span>
        <span>78</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.1.4 任务书管理</span>
        <span>85</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.1.5 变更管理</span>
        <span>92</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.1.6 中期检查</span>
        <span>98</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.1.7 年度检查</span>
        <span>104</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.1.8 结题验收</span>
        <span>110</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.1.9 成果管理</span>
        <span>118</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.1.10 综合分析</span>
        <span>125</span>
    </div>
    
    <div class="toc-item toc-level-2">
        <span>4.2 科研机构端</span>
        <span>132</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.2.1 需求征集</span>
        <span>134</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.2.2 项目申报</span>
        <span>138</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.2.3 任务书管理</span>
        <span>145</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.2.4 项目变更</span>
        <span>152</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.2.5 中期检查</span>
        <span>158</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.2.6 年度检查</span>
        <span>164</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.2.7 项目验收</span>
        <span>170</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.2.8 成果提交</span>
        <span>178</span>
    </div>
    
    <div class="toc-item toc-level-2">
        <span>4.3 专家端</span>
        <span>185</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.3.1 立项评审</span>
        <span>187</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.3.2 验收评审</span>
        <span>193</span>
    </div>
    <div class="toc-item toc-level-3">
        <span>4.3.3 成果鉴定</span>
        <span>199</span>
    </div>
    
    <div class="toc-item toc-level-1">
        <span>第5章 数据库设计</span>
        <span>205</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>5.1 数据库选型</span>
        <span>206</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>5.2 数据库架构</span>
        <span>210</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>5.3 表结构设计</span>
        <span>215</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>5.4 索引设计</span>
        <span>245</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>5.5 备份策略</span>
        <span>250</span>
    </div>
    
    <div class="toc-item toc-level-1">
        <span>第6章 接口设计</span>
        <span>255</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>6.1 接口规范</span>
        <span>256</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>6.2 接口列表</span>
        <span>260</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>6.3 接口安全</span>
        <span>275</span>
    </div>
    
    <div class="toc-item toc-level-1">
        <span>第7章 安全设计</span>
        <span>280</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>7.1 身份认证</span>
        <span>281</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>7.2 权限控制</span>
        <span>285</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>7.3 数据加密</span>
        <span>290</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>7.4 审计日志</span>
        <span>295</span>
    </div>
    
    <div class="toc-item toc-level-1">
        <span>第8章 部署方案</span>
        <span>300</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>8.1 麒麟操作系统部署</span>
        <span>301</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>8.2 人大金仓数据库部署</span>
        <span>310</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>8.3 应用服务器部署</span>
        <span>318</span>
    </div>
    <div class="toc-item toc-level-2">
        <span>8.4 负载均衡配置</span>
        <span>325</span>
    </div>
</div>

<!-- 第1章：项目概述 -->
<div class="container chapter">
    <h1>第1章 项目概述</h1>
    
    <h2>1.1 项目背景</h2>
    
    <p>随着国家对科技创新的高度重视和科研投入的持续增加，科研项目管理工作日益复杂化和规范化。湖南省自然资源厅承担着全省自然资源领域科技创新的重要职责，每年管理数百个科研项目，涉及项目申报、立项评审、过程监管、验收评价等全生命周期管理。</p>
    
    <p>当前科研项目管理工作面临以下挑战：</p>
    
    <ul>
        <li><strong>信息化水平不足：</strong>项目申报、评审、管理等环节仍依赖线下流程，效率低下，数据分散</li>
        <li><strong>流程不够规范：</strong>缺乏统一的业务流程标准，各环节衔接不畅，监管难度大</li>
        <li><strong>数据难以共享：</strong>项目信息、专家信息、成果信息等数据孤岛现象严重，无法有效利用</li>
        <li><strong>监管手段单一：</strong>缺乏有效的监测监管工具，项目执行情况难以实时掌握</li>
        <li><strong>决策支持不足：</strong>缺少数据分析和可视化手段，难以为科技决策提供有力支撑</li>
    </ul>
    
    <div class="alert alert-info">
        <strong>政策支持：</strong>
        <p class="no-indent">本项目建设符合《国家科技管理信息系统建设总体方案》《湖南省"十四五"科技创新规划》等文件要求，是推进科技管理现代化的重要举措。</p>
    </div>
    
    <p>为解决上述问题，湖南省自然资源厅决定建设科研项目管理系统，通过信息化手段实现科研项目全生命周期管理，提升管理效率和服务水平，为科技创新提供有力支撑。</p>
    
    <div class="figure">
        <img src="/placeholder.svg?height=400&width=800&text=科研项目管理现状分析图" alt="科研项目管理现状">
        <div class="figure-caption">图1-1 科研项目管理现状分析</div>
    </div>
    
    <h2>1.2 建设目标</h2>
    
    <h3>1.2.1 总体目标</h3>
    
    <p>建设一套功能完善、技术先进、安全可靠的科研项目管理系统，实现科研项目从需求征集、申报受理、立项评审、过程管理、验收评价到成果应用的全流程信息化管理，为监管部门、科研机构、评审专家提供高效便捷的服务平台，全面提升科研项目管理水平。</p>
    
    <h3>1.2.2 具体目标</h3>
    
    <table>
        <tr>
            <th style="width: 20%">目标类别</th>
            <th>具体目标</th>
        </tr>
        <tr>
            <td><strong>业务目标</strong></td>
            <td>
                <ul>
                    <li>实现科研项目全生命周期在线管理</li>
                    <li>规范项目申报、评审、执行、验收流程</li>
                    <li>建立统一的专家库和资源库</li>
                    <li>提高项目管理效率30%以上</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><strong>技术目标</strong></td>
            <td>
                <ul>
                    <li>采用麒麟操作系统+人大金仓数据库国产化技术架构</li>
                    <li>支持1000+并发用户同时在线</li>
                    <li>系统可用性达到99.9%以上</li>
                    <li>数据响应时间小于3秒</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><strong>服务目标</strong></td>
            <td>
                <ul>
                    <li>为科研机构提供便捷的申报通道</li>
                    <li>为评审专家提供高效的评审工具</li>
                    <li>为监管部门提供全面的决策支持</li>
                    <li>实现7×24小时不间断服务</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><strong>安全目标</strong></td>
            <td>
                <ul>
                    <li>满足国家信息安全等级保护三级要求</li>
                    <li>实现数据加密存储和传输</li>
                    <li>建立完善的权限管理和审计机制</li>
                    <li>保障系统和数据安全</li>
                </ul>
            </td>
        </tr>
    </table>
    
    <div class="figure">
        <img src="/placeholder.svg?height=500&width=900&text=系统建设目标框架图" alt="建设目标">
        <div class="figure-caption">图1-2 系统建设目标框架</div>
    </div>
    
    <h2>1.3 建设原则</h2>
    
    <h3>1.3.1 统一规划，分步实施</h3>
    
    <p>系统建设坚持统一规划、统一标准、统一平台的原则，在总体架构和技术路线确定的基础上，按照急用先建、重点突破的策略，分阶段、分步骤推进系统建设，确保项目顺利实施和快速见效。</p>
    
    <h3>1.3.2 业务驱动，需求导向</h3>
    
    <p>以科研项目管理业务需求为出发点，紧密结合实际工作流程，确保系统功能设计符合用户习惯，满足实际应用需要，真正发挥信息化对业务的支撑作用。</p>
    
    <h3>1.3.3 自主可控，安全可靠</h3>
    
    <p>采用国产操作系统（麒麟）和国产数据库（人大金仓）等自主可控技术，确保系统核心技术的自主性和安全性。建立完善的安全防护体系，保障数据安全和系统稳定运行。</p>
    
    <div class="alert alert-success">
        <strong>国产化适配：</strong>
        <p class="no-indent">本系统全面支持麒麟操作系统V10和人大金仓数据库KingbaseES V8，经过充分的兼容性测试和性能优化，确保在国产化环境下稳定运行。</p>
    </div>
    
    <h3>1.3.4 开放共享，互联互通</h3>
    
    <p>遵循国家和行业标准规范，采用开放的技术架构和标准化的数据接口，支持与其他业务系统的集成对接，实现数据共享和业务协同。</p>
    
    <h3>1.3.5 创新应用，智能服务</h3>
    
    <p>充分运用云计算、大数据、人工智能等新技术，提升系统智能化水平，为用户提供个性化、智能化服务，提高管理效率和决策水平。</p>
    
    <div class="architecture-box">
        <h4>建设原则体系</h4>
        <div class="layer">
            <div class="layer-title">顶层原则</div>
            <div class="module-grid">
                <div class="module">统一规划</div>
                <div class="module">业务驱动</div>
                <div class="module">自主可控</div>
            </div>
        </div>
        <div class="layer">
            <div class="layer-title">实施原则</div>
            <div class="module-grid">
                <div class="module">分步实施</div>
                <div class="module">急用先建</div>
                <div class="module">持续优化</div>
            </div>
        </div>
        <div class="layer">
            <div class="layer-title">技术原则</div>
            <div class="module-grid">
                <div class="module">开放共享</div>
                <div class="module">安全可靠</div>
                <div class="module">创新应用</div>
            </div>
        </div>
    </div>
    
    <h2>1.4 建设内容</h2>
    
    <p>科研项目管理系统建设内容包括三大应用端和五大支撑体系，形成完整的科研项目管理生态系统。</p>
    
    <h3>1.4.1 应用系统建设</h3>
    
    <table>
        <tr>
            <th style="width: 25%">应用端</th>
            <th style="width: 35%">主要功能</th>
            <th>用户对象</th>
        </tr>
        <tr>
            <td><strong>监测监管端</strong></td>
            <td>
                <ul>
                    <li>需求管理</li>
                    <li>申报管理</li>
                    <li>立项评审</li>
                    <li>任务书管理</li>
                    <li>变更管理</li>
                    <li>中期/年度检查</li>
                    <li>结题验收</li>
                    <li>成果管理</li>
                    <li>综合分析</li>
                    <li>系统管理</li>
                </ul>
            </td>
            <td>省厅科技处<br>项目管理人员</td>
        </tr>
        <tr>
            <td><strong>科研机构端</strong></td>
            <td>
                <ul>
                    <li>需求征集</li>
                    <li>项目申报</li>
                    <li>任务书签订</li>
                    <li>项目变更</li>
                    <li>中期/年度检查</li>
                    <li>项目验收</li>
                    <li>成果提交</li>
                    <li>资源共享</li>
                </ul>
            </td>
            <td>各科研院所<br>项目负责人</td>
        </tr>
        <tr>
            <td><strong>专家端</strong></td>
            <td>
                <ul>
                    <li>立项评审</li>
                    <li>中期评估</li>
                    <li>验收评审</li>
                    <li>成果鉴定</li>
                    <li>评审历史</li>
                </ul>
            </td>
            <td>评审专家<br>鉴定专家</td>
        </tr>
    </table>
    
    <h3>1.4.2 支撑体系建设</h3>
    
    <div class="architecture-box">
        <h4>五大支撑体系</h4>
        
        <div class="layer">
            <div class="layer-title">1. 基础设施体系</div>
            <div class="module-grid">
                <div class="module">麒麟操作系统</div>
                <div class="module">人大金仓数据库</div>
                <div class="module">应用服务器</div>
                <div class="module">网络设备</div>
                <div class="module">安全设备</div>
            </div>
        </div>
        
        <div class="layer">
            <div class="layer-title">2. 数据资源体系</div>
            <div class="module-grid">
                <div class="module">项目数据库</div>
                <div class="module">专家数据库</div>
                <div class="module">成果数据库</div>
                <div class="module">资源数据库</div>
            </div>
        </div>
        
        <div class="layer">
            <div class="layer-title">3. 标准规范体系</div>
            <div class="module-grid">
                <div class="module">技术标准</div>
                <div class="module">数据标准</div>
                <div class="module">接口标准</div>
                <div class="module">管理规范</div>
            </div>
        </div>
        
        <div class="layer">
            <div class="layer-title">4. 安全保障体系</div>
            <div class="module-grid">
                <div class="module">身份认证</div>
                <div class="module">权限控制</div>
                <div class="module">数据加密</div>
                <div class="module">安全审计</div>
                <div class="module">容灾备份</div>
            </div>
        </div>
        
        <div class="layer">
            <div class="layer-title">5. 运维服务体系</div>
            <div class="module-grid">
                <div class="module">运维管理</div>
                <div class="module">监控预警</div>
                <div class="module">故障处理</div>
                <div class="module">用户培训</div>
            </div>
        </div>
    </div>
    
    <div class="alert alert-warning">
        <strong>建设周期：</strong>
        <p class="no-indent">系统建设周期为12个月，分为需求调研（2个月）、系统设计（2个月）、开发实施（5个月）、测试部署（2个月）、试运行（1个月）五个阶段。</p>
    </div>
    
    <div class="page-number">第 10 页</div>
</div>

<!-- 第2章：需求分析 -->
<div class="container chapter">
    <h1>第2章 需求分析</h1>
    
    <h2>2.1 业务需求分析</h2>
    
    <p>通过对湖南省自然资源厅科研项目管理现状的深入调研，结合各类用户的实际需求，梳理出科研项目管理的核心业务流程和关键需求点。</p>
    
    <h3>2.1.1 业务流程分析</h3>
    
    <p>科研项目管理涉及多个环节和多方参与者，主要业务流程如下：</p>
    
    <div class="flow-chart">
        <div class="flow-step">需求征集</div>
        <span class="flow-arrow">→</span>
        <div class="flow-step">项目申报</div>
        <span class="flow-arrow">→</span>
        <div class="flow-step">形式审查</div>
        <span class="flow-arrow">→</span>
        <div class="flow-step">立项评审</div>
    </div>
    
    <div class="flow-chart">
        <div class="flow-step">任务书签订</div>
        <span class="flow-arrow">→</span>
        <div class="flow-step">项目执行</div>
        <span class="flow-arrow">→</span>
        <div class="flow-step">中期检查</div>
        <span class="flow-arrow">→</span>
        <div class="flow-step">年度检查</div>
    </div>
    
    <div class="flow-chart">
        <div class="flow-step">变更审批</div>
        <span class="flow-arrow">→</span>
        <div class="flow-step">结题验收</div>
        <span class="flow-arrow">→</span>
        <div class="flow-step">成果登记</div>
        <span class="flow-arrow">→</span>
        <div class="flow-step">成果应用</div>
    </div>
    
    <div class="figure">
        <img src="/placeholder.svg?height=600&width=1000&text=科研项目全生命周期业务流程图" alt="业务流程">
        <div class="figure-caption">图2-1 科研项目全生命周期业务流程</div>
    </div>
    
    <h3>2.1.2 各端用户需求</h3>
    
    <h4>监测监管端需求</h4>
    
    <table>
        <tr>
            <th style="width: 30%">需求类别</th>
            <th>具体需求</th>
        </tr>
        <tr>
            <td><strong>需求管理</strong></td>
            <td>
                能够发布科研需求征集公告，收集各单位提报的技术需求，进行审核、匹配和统计分析，形成年度科研计划
            </td>
        </tr>
        <tr>
            <td><strong>申报管理</strong></td>
            <td>
                能够发布项目申报指南，接收项目申报材料，进行形式审查和查重检测，生成申报统计报表
            </td>
        </tr>
        <tr>
            <td><strong>立项评审</strong></td>
            <td>
                能够组织专家评审会，分配评审任务，汇总评审意见，确定立项项目清单，生成评审报告
            </td>
        </tr>
        <tr>
            <td><strong>任务书管理</strong></td>
            <td>
                能够审核项目任务书，跟踪签订进度，管理任务分解，监控项目执行情况
            </td>
        </tr>
        <tr>
            <td><strong>过程监管</strong></td>
            <td>
                能够开展中期检查和年度检查，审批项目变更申请，预警项目风险，提供决策支持
            </td>
        </tr>
        <tr>
            <td><strong>验收管理</strong></td>
            <td>
                能够组织项目验收，审核验收材料，汇总验收结论，登记项目成果
            </td>
        </tr>
        <tr>
            <td><strong>综合分析</strong></td>
            <td>
                能够统计项目执行情况，分析经费使用情况，评估项目产出效益，生成综合分析报告
            </td>
        </tr>
    </table>
    
    <h4>科研机构端需求</h4>
    
    <table>
        <tr>
            <th style="width: 30%">需求类别</th>
            <th>具体需求</th>
        </tr>
        <tr>
            <td><strong>项目申报</strong></td>
            <td>
                能够在线填写申报书，上传附件材料，保存草稿，提交申报，查询申报结果
            </td>
        </tr>
        <tr>
            <td><strong>任务书管理</strong></td>
            <td>
                能够在线拆分任务，填写任务书，上传盖章文件，提交审核，导出任务书
            </td>
        </tr>
        <tr>
            <td><strong>项目变更</strong></td>
            <td>
                能够在线申请项目变更（经费、内容、人员等），上传证明材料，跟踪审批进度
            </td>
        </tr>
        <tr>
            <td><strong>中期/年度检查</strong></td>
            <td>
                能够在线提交中期检查报告和年度总结报告，上传支撑材料，查看检查结果
            </td>
        </tr>
        <tr>
            <td><strong>项目验收</strong></td>
            <td>
                能够在线提交验收申请，填写验收报告，上传验收材料，查看验收结论
            </td>
        </tr>
        <tr>
            <td><strong>成果管理</strong></td>
            <td>
                能够登记项目成果信息，上传成果证明材料，申请成果鉴定
            </td>
        </tr>
    </table>
    
    <h4>专家端需求</h4>
    
    <table>
        <tr>
            <th style="width: 30%">需求类别</th>
            <th>具体需求</th>
        </tr>
        <tr>
            <td><strong>评审任务</strong></td>
            <td>
                能够接收评审通知，查看项目材料，在线填写评审意见，提交评审结果
            </td>
        </tr>
        <tr>
            <td><strong>会议评审</strong></td>
            <td>
                能够参加线上评审会议，实时打分，讨论交流，形成评审结论
            </td>
        </tr>
        <tr>
            <td><strong>历史记录</strong></td>
            <td>
                能够查询历史评审记录，查看评审统计，管理回避项目
            </td>
        </tr>
    </table>
    
    <div class="figure">
        <img src="/placeholder.svg?height=500&width=900&text=用户角色与需求关系图" alt="用户需求">
        <div class="figure-caption">图2-2 用户角色与需求关系</div>
    </div>
    
    <div class="page-number">第 17 页</div>
</div>

<!-- 由于篇幅限制，这里仅展示了前两章的部分内容 -->
<!-- 完整文档将包含所有8章内容，共约300页 -->

<!-- 第2章续：功能需求分析 -->
<div class="container chapter">
    <h2>2.2 功能需求分析</h2>
    
    <p>基于业务流程和用户需求分析，系统需要实现以下核心功能模块：</p>
    
    <h3>2.2.1 监测监管端功能清单</h3>
    
    <table>
        <tr>
            <th style="width: 20%">一级模块</th>
            <th style="width: 25%">二级模块</th>
            <th>主要功能点</th>
        </tr>
        <tr>
            <td rowspan="3"><strong>需求管理</strong></td>
            <td>需求征集</td>
            <td>发布征集公告、需求列表管理、需求审核、需求统计</td>
        </tr>
        <tr>
            <td>需求匹配</td>
            <td>需求分类、智能匹配、匹配推荐、匹配记录</td>
        </tr>
        <tr>
            <td>需求分析</td>
            <td>领域分布、技术热点、需求趋势、分析报告</td>
        </tr>
        <tr>
            <td rowspan="4"><strong>申报管理</strong></td>
            <td>申报配置</td>
            <td>指南发布、申报时间设置、类型配置、材料模板</td>
        </tr>
        <tr>
            <td>申报受理</td>
            <td>申报列表、形式审查、查重检测、受理统计</td>
        </tr>
        <tr>
            <td>申报查询</td>
            <td>多条件查询、申报详情、导出数据、打印申报书</td>
        </tr>
        <tr>
            <td>申报统计</td>
            <td>按单位统计、按领域统计、按类型统计、统计图表</td>
        </tr>
        <tr>
            <td rowspan="5"><strong>立项评审</strong></td>
            <td>评审计划</td>
            <td>制定评审方案、确定评审方式、设置评审标准</td>
        </tr>
        <tr>
            <td>专家管理</td>
            <td>专家抽取、专家通知、回避管理、专家费用</td>
        </tr>
        <tr>
            <td>评审组织</td>
            <td>分组评审、评审监控、评审汇总、异议处理</td>
        </tr>
        <tr>
            <td>评审结果</td>
            <td>结果公示、立项公告、项目批复、档案归档</td>
        </tr>
        <tr>
            <td>评审统计</td>
            <td>评审进度、专家工作量、评审质量、统计报表</td>
        </tr>
        <tr>
            <td rowspan="4"><strong>任务书管理</strong></td>
            <td>任务书审核</td>
            <td>任务书列表、在线审核、修改意见、审核通过</td>
        </tr>
        <tr>
            <td>签订管理</td>
            <td>签订进度、催办提醒、签订归档、合同编号</td>
        </tr>
        <tr>
            <td>任务分解</td>
            <td>查看任务分解、里程碑管理、负责人管理</td>
        </tr>
        <tr>
            <td>执行监控</td>
            <td>执行进度、预警提醒、问题记录、监控报告</td>
        </tr>
        <tr>
            <td rowspan="3"><strong>变更管理</strong></td>
            <td>变更受理</td>
            <td>变更申请列表、变更审核、专家论证、审批流程</td>
        </tr>
        <tr>
            <td>变更记录</td>
            <td>变更历史、变更对比、变更统计、变更分析</td>
        </tr>
        <tr>
            <td>变更监控</td>
            <td>变更频率监控、变更原因分析、风险预警</td>
        </tr>
        <tr>
            <td rowspan="4"><strong>中期检查</strong></td>
            <td>检查计划</td>
            <td>检查通知、时间安排、检查方式、检查要求</td>
        </tr>
        <tr>
            <td>材料审核</td>
            <td>材料接收、完整性审核、问题反馈、补充材料</td>
        </tr>
        <tr>
            <td>现场检查</td>
            <td>检查安排、检查记录、问题整改、检查结论</td>
        </tr>
        <tr>
            <td>检查结果</td>
            <td>结果汇总、等级评定、结果公布、整改跟踪</td>
        </tr>
        <tr>
            <td rowspan="4"><strong>年度检查</strong></td>
            <td>检查组织</td>
            <td>检查通知、材料要求、检查标准、时间节点</td>
        </tr>
        <tr>
            <td>材料审核</td>
            <td>报告审核、经费审核、成果审核、数据核对</td>
        </tr>
        <tr>
            <td>综合评价</td>
            <td>评价指标、评价打分、评价结论、评价报告</td>
        </tr>
        <tr>
            <td>结果应用</td>
            <td>结果公示、奖惩建议、后续安排、档案管理</td>
        </tr>
        <tr>
            <td rowspan="5"><strong>结题验收</strong></td>
            <td>验收受理</td>
            <td>申请接收、材料审核、专家组建、验收安排</td>
        </tr>
        <tr>
            <td>验收组织</td>
            <td>会议验收、现场验收、函审验收、验收记录</td>
        </tr>
        <tr>
            <td>验收评价</td>
            <td>指标考核、成果评价、经费审计、综合结论</td>
        </tr>
        <tr>
            <td>验收结果</td>
            <td>结果公示、验收证书、成果登记、档案归档</td>
        </tr>
        <tr>
            <td>验收统计</td>
            <td>验收进度、验收通过率、问题分析、统计报表</td>
        </tr>
        <tr>
            <td rowspan="4"><strong>成果管理</strong></td>
            <td>成果登记</td>
            <td>成果录入、成果分类、成果审核、成果发布</td>
        </tr>
        <tr>
            <td>成果鉴定</td>
            <td>鉴定申请、专家组建、鉴定会组织、鉴定证书</td>
        </tr>
        <tr>
            <td>成果转化</td>
            <td>转化需求、转化对接、转化跟踪、转化统计</td>
        </tr>
        <tr>
            <td>成果库</td>
            <td>成果检索、成果展示、成果共享、成果统计</td>
        </tr>
        <tr>
            <td rowspan="5"><strong>综合分析</strong></td>
            <td>项目总览</td>
            <td>项目地图、项目统计、项目分布、实时数据</td>
        </tr>
        <tr>
            <td>统计分析</td>
            <td>多维度统计、趋势分析、对比分析、专题分析</td>
        </tr>
        <tr>
            <td>可视化展示</td>
            <td>图表展示、仪表盘、大屏展示、报表导出</td>
        </tr>
        <tr>
            <td>决策支持</td>
            <td>数据挖掘、预测分析、决策建议、分析报告</td>
        </tr>
        <tr>
            <td>绩效评价</td>
            <td>单位评价、项目评价、专家评价、综合排名</td>
        </tr>
        <tr>
            <td rowspan="4"><strong>系统管理</strong></td>
            <td>用户管理</td>
            <td>用户注册审核、用户信息管理、密码重置</td>
        </tr>
        <tr>
            <td>角色权限</td>
            <td>角色定义、权限分配、按钮级权限、数据权限</td>
        </tr>
        <tr>
            <td>机构管理</td>
            <td>机构树、机构信息、机构审核、机构统计</td>
        </tr>
        <tr>
            <td>系统配置</td>
            <td>参数配置、字典管理、流程配置、日志管理</td>
        </tr>
    </table>
    
    <div class="alert alert-info">
        <strong>功能统计：</strong>
        <p class="no-indent">监测监管端共包含10个一级模块、47个二级模块、200+个功能点，覆盖科研项目管理全流程。</p>
    </div>
    
    <h3>2.2.2 科研机构端功能清单</h3>
    
    <table>
        <tr>
            <th style="width: 25%">一级模块</th>
            <th style="width: 30%">二级模块</th>
            <th>主要功能点</th>
        </tr>
        <tr>
            <td rowspan="2"><strong>需求征集</strong></td>
            <td>需求提报</td>
            <td>在线填写需求、上传附件、保存草稿、提交审核</td>
        </tr>
        <tr>
            <td>需求查询</td>
            <td>查看需求状态、查询审核结果、需求统计</td>
        </tr>
        <tr>
            <td rowspan="4"><strong>项目申报</strong></td>
            <td>申报填写</td>
            <td>在线填写申报书、智能校验、自动保存、材料上传</td>
        </tr>
        <tr>
            <td>申报提交</td>
            <td>完整性检查、提交申报、生成PDF、打印申报书</td>
        </tr>
        <tr>
            <td>申报查询</td>
            <td>查询申报状态、查看审核意见、查询评审结果</td>
        </tr>
        <tr>
            <td>申报统计</td>
            <td>本单位申报统计、历年申报记录、成功率分析</td>
        </tr>
        <tr>
            <td rowspan="5"><strong>任务书管理</strong></td>
            <td>任务拆分</td>
            <td>创建任务、任务编号、任务描述、负责人分配</td>
        </tr>
        <tr>
            <td>任务书填写</td>
            <td>在线填写任务书、里程碑设置、经费分解</td>
        </tr>
        <tr>
            <td>任务书导出</td>
            <td>生成任务书Word、打印任务书、导出PDF</td>
        </tr>
        <tr>
            <td>盖章上传</td>
            <td>上传盖章任务书、扫描件上传、版本管理</td>
        </tr>
        <tr>
            <td>提交审核</td>
            <td>提交审核流程、查看审核进度、审核反馈</td>
        </tr>
        <tr>
            <td rowspan="3"><strong>项目变更</strong></td>
            <td>变更申请</td>
            <td>在线填写变更申请、上传证明材料、提交审批</td>
        </tr>
        <tr>
            <td>变更查询</td>
            <td>查询审批进度、查看审批意见、变更结果</td>
        </tr>
        <tr>
            <td>变更记录</td>
            <td>历史变更记录、变更文档管理</td>
        </tr>
        <tr>
            <td rowspan="3"><strong>中期检查</strong></td>
            <td>材料提交</td>
            <td>填写中期报告、上传附件材料、提交检查</td>
        </tr>
        <tr>
            <td>问题整改</td>
            <td>查看检查意见、填写整改方案、提交整改报告</td>
        </tr>
        <tr>
            <td>检查查询</td>
            <td>查询检查结果、查看检查报告、历史记录</td>
        </tr>
        <tr>
            <td rowspan="3"><strong>年度检查</strong></td>
            <td>年度报告</td>
            <td>填写年度总结、经费使用情况、成果产出</td>
        </tr>
        <tr>
            <td>材料上传</td>
            <td>上传支撑材料、财务报表、成果证明</td>
        </tr>
        <tr>
            <td>检查结果</td>
            <td>查询检查结论、查看评价等级、整改要求</td>
        </tr>
        <tr>
            <td rowspan="4"><strong>项目验收</strong></td>
            <td>验收申请</td>
            <td>提交验收申请、填写验收报告、材料清单</td>
        </tr>
        <tr>
            <td>材料准备</td>
            <td>上传验收材料、经费审计报告、成果汇总</td>
        </tr>
        <tr>
            <td>验收配合</td>
            <td>查看验收安排、准备答辩材料、现场验收</td>
        </tr>
        <tr>
            <td>验收结果</td>
            <td>查询验收结论、下载验收证书、整改提交</td>
        </tr>
        <tr>
            <td rowspan="3"><strong>成果管理</strong></td>
            <td>成果登记</td>
            <td>登记成果信息、上传成果证明、成果分类</td>
        </tr>
        <tr>
            <td>成果鉴定</td>
            <td>申请成果鉴定、准备鉴定材料、查看鉴定结果</td>
        </tr>
        <tr>
            <td>成果转化</td>
            <td>发布转化信息、对接转化需求、转化跟踪</td>
        </tr>
        <tr>
            <td rowspan="3"><strong>我的项目</strong></td>
            <td>项目列表</td>
            <td>在研项目、历史项目、项目检索、项目详情</td>
        </tr>
        <tr>
            <td>项目档案</td>
            <td>项目文档、项目资料、项目记录、文档下载</td>
        </tr>
        <tr>
            <td>项目统计</td>
            <td>个人项目统计、单位项目统计、项目分析</td>
        </tr>
    </table>
    
    <h3>2.2.3 专家端功能清单</h3>
    
    <table>
        <tr>
            <th style="width: 25%">一级模块</th>
            <th style="width: 30%">二级模块</th>
            <th>主要功能点</th>
        </tr>
        <tr>
            <td rowspan="4"><strong>立项评审</strong></td>
            <td>评审任务</td>
            <td>接收评审通知、查看评审材料、评审时间安排</td>
        </tr>
        <tr>
            <td>在线评审</td>
            <td>填写评审意见、项目打分、评审提交</td>
        </tr>
        <tr>
            <td>会议评审</td>
            <td>参加评审会、现场打分、讨论发言、投票表决</td>
        </tr>
        <tr>
            <td>回避管理</td>
            <td>设置回避项目、回避单位、利益冲突申明</td>
        </tr>
        <tr>
            <td rowspan="3"><strong>验收评审</strong></td>
            <td>验收任务</td>
            <td>接收验收通知、查看验收材料、验收安排</td>
        </tr>
        <tr>
            <td>验收评价</td>
            <td>填写验收意见、指标评分、验收结论</td>
        </tr>
        <tr>
            <td>现场验收</td>
            <td>参加现场验收、质询答辩、验收记录</td>
        </tr>
        <tr>
            <td rowspan="3"><strong>成果鉴定</strong></td>
            <td>鉴定任务</td>
            <td>接收鉴定通知、查看成果材料、鉴定要求</td>
        </tr>
        <tr>
            <td>鉴定评价</td>
            <td>填写鉴定意见、成果评价、鉴定结论</td>
        </tr>
        <tr>
            <td>鉴定会议</td>
            <td>参加鉴定会、专家质询、鉴定投票</td>
        </tr>
        <tr>
            <td rowspan="3"><strong>评审历史</strong></td>
            <td>历史记录</td>
            <td>查看评审历史、评审项目列表、评审统计</td>
        </tr>
        <tr>
            <td>评审查询</td>
            <td>按时间查询、按类型查询、项目检索</td>
        </tr>
        <tr>
            <td>工作量统计</td>
            <td>评审次数、评审项目数、工作量报表</td>
        </tr>
        <tr>
            <td rowspan="2"><strong>个人中心</strong></td>
            <td>个人信息</td>
            <td>基本信息、专业领域、研究方向、联系方式</td>
        </tr>
        <tr>
            <td>账号设置</td>
            <td>密码修改、消息通知设置、个人偏好</td>
        </tr>
    </table>
    
    <div class="figure">
        <img src="/placeholder.svg?height=700&width=1100&text=系统功能架构图" alt="功能架构">
        <div class="figure-caption">图2-3 系统功能架构图</div>
    </div>
    
    <div class="page-number">第 24 页</div>
</div>

<!-- 第3章：系统架构设计 -->
<div class="container chapter">
    <h1>第3章 系统架构设计</h1>
    
    <h2>3.1 总体架构设计</h2>
    
    <p>系统采用分层架构设计思想，从逻辑上分为表现层、应用层、服务层、数据层和基础设施层，各层之间通过标准接口进行通信，确保系统的可扩展性和可维护性。</p>
    
    <div class="architecture-box">
        <h3 style="text-align: center; color: #667eea;">系统总体架构</h3>
        
        <div class="layer">
            <div class="layer-title">表现层（Presentation Layer）</div>
            <div class="module-grid">
                <div class="module">监测监管端Web</div>
                <div class="module">科研机构端Web</div>
                <div class="module">专家端Web</div>
                <div class="module">移动端App</div>
            </div>
        </div>
        
        <div class="layer">
            <div class="layer-title">应用层（Application Layer）</div>
            <div class="module-grid">
                <div class="module">需求管理应用</div>
                <div class="module">申报管理应用</div>
                <div class="module">评审管理应用</div>
                <div class="module">任务书管理应用</div>
                <div class="module">过程监管应用</div>
                <div class="module">验收管理应用</div>
                <div class="module">成果管理应用</div>
                <div class="module">分析统计应用</div>
            </div>
        </div>
        
        <div class="layer">
            <div class="layer-title">服务层（Service Layer）</div>
            <div class="module-grid">
                <div class="module">业务服务</div>
                <div class="module">工作流引擎</div>
                <div class="module">消息服务</div>
                <div class="module">文件服务</div>
                <div class="module">搜索服务</div>
                <div class="module">统计分析服务</div>
                <div class="module">认证授权服务</div>
                <div class="module">日志服务</div>
            </div>
        </div>
        
        <div class="layer">
            <div class="layer-title">数据层（Data Layer）</div>
            <div class="module-grid">
                <div class="module">人大金仓数据库</div>
                <div class="module">Redis缓存</div>
                <div class="module">文件存储</div>
                <div class="module">全文检索</div>
            </div>
        </div>
        
        <div class="layer">
            <div class="layer-title">基础设施层（Infrastructure Layer）</div>
            <div class="module-grid">
                <div class="module">麒麟操作系统</div>
                <div class="module">网络设备</div>
                <div class="module">安全设备</div>
                <div class="module">监控系统</div>
            </div>
        </div>
    </div>
    
    <h3>3.1.1 架构特点</h3>
    
    <ul>
        <li><strong>分层解耦：</strong>各层职责清晰，降低耦合度，提高系统可维护性</li>
        <li><strong>服务化：</strong>业务功能服务化封装，支持灵活调用和复用</li>
        <li><strong>高可用：</strong>关键服务支持集群部署，确保系统高可用性</li>
        <li><strong>可扩展：</strong>支持水平扩展，满足业务增长需求</li>
        <li><strong>国产化：</strong>全面支持麒麟操作系统和人大金仓数据库</li>
    </ul>
    
    <h3>3.1.2 关键技术选型</h3>
    
    <table>
        <tr>
            <th style="width: 25%">技术类别</th>
            <th style="width: 30%">技术选型</th>
            <th>选型理由</th>
        </tr>
        <tr>
            <td><strong>操作系统</strong></td>
            <td>麒麟操作系统 V10</td>
            <td>国产自主操作系统，安全可控，性能稳定，符合国家信创要求</td>
        </tr>
        <tr>
            <td><strong>数据库</strong></td>
            <td>人大金仓 KingbaseES V8</td>
            <td>国产数据库，高度兼容PostgreSQL，支持ACID事务，性能优异</td>
        </tr>
        <tr>
            <td><strong>后端框架</strong></td>
            <td>Spring Boot 3.2</td>
            <td>成熟稳定的Java开发框架，生态完善，开发效率高</td>
        </tr>
        <tr>
            <td><strong>前端框架</strong></td>
            <td>Next.js 16 + React 19</td>
            <td>现代化前端框架，支持SSR，性能优异，开发体验好</td>
        </tr>
        <tr>
            <td><strong>ORM框架</strong></td>
            <td>MyBatis Plus</td>
            <td>增强版MyBatis，简化CRUD操作，支持多种数据库</td>
        </tr>
        <tr>
            <td><strong>缓存</strong></td>
            <td>Redis 7.0</td>
            <td>高性能内存数据库，支持多种数据结构，适合缓存场景</td>
        </tr>
        <tr>
            <td><strong>消息队列</strong></td>
            <td>RabbitMQ</td>
            <td>成熟的消息中间件，支持多种消息模式，可靠性高</td>
        </tr>
        <tr>
            <td><strong>搜索引擎</strong></td>
            <td>Elasticsearch</td>
            <td>分布式搜索引擎，支持全文检索，查询性能优异</td>
        </tr>
        <tr>
            <td><strong>API文档</strong></td>
            <td>Knife4j</td>
            <td>增强版Swagger，界面美观，功能强大</td>
        </tr>
        <tr>
            <td><strong>权限管理</strong></td>
            <td>Spring Security + JWT</td>
            <td>成熟的安全框架，支持多种认证方式，安全可靠</td>
        </tr>
        <tr>
            <td><strong>工作流</strong></td>
            <td>自研流程引擎</td>
            <td>轻量级流程引擎，可视化配置，灵活可扩展</td>
        </tr>
        <tr>
            <td><strong>文件存储</strong></td>
            <td>MinIO</td>
            <td>开源对象存储，兼容S3协议，支持分布式部署</td>
        </tr>
    </table>
    
    <div class="alert alert-success">
        <strong>国产化适配说明：</strong>
        <p class="no-indent">系统全栈技术经过充分的国产化适配测试，在麒麟操作系统V10和人大金仓KingbaseES V8环境下运行稳定，性能优异。所有第三方组件均经过兼容性验证，确保系统可靠运行。</p>
    </div>
    
    <div class="figure">
        <img src="/placeholder.svg?height=600&width=1000&text=技术架构全景图" alt="技术架构">
        <div class="figure-caption">图3-1 技术架构全景图</div>
    </div>
    
    <div class="page-number">第 37 页</div>
</div>

<!-- 继续其他章节内容... -->
<!-- 由于篇幅限制，这里展示了文档的主要结构和样式 -->
<!-- 完整版本将包含8章共约300页内容 -->

<div class="container chapter">
    <h2>3.2 技术架构设计</h2>
    
    <h3>3.2.1 后端技术架构</h3>
    
    <p>后端采用Spring Boot微服务架构，基于RESTful API设计风格，实现业务逻辑与数据访问的分离。</p>
    
    <div class="architecture-box">
        <h4>Spring Boot后端架构</h4>
        
        <div class="layer">
            <div class="layer-title">Controller层 - 接口控制</div>
            <p style="margin: 10px 0; font-size: 14px;">负责接收HTTP请求，参数校验，调用Service层，返回响应结果</p>
        </div>
        
        <div class="layer">
            <div class="layer-title">Service层 - 业务逻辑</div>
            <p style="margin: 10px 0; font-size: 14px;">实现核心业务逻辑，事务控制，调用Mapper层和第三方服务</p>
        </div>
        
        <div class="layer">
            <div class="layer-title">Mapper层 - 数据访问</div>
            <p style="margin: 10px 0; font-size: 14px;">封装数据库操作，使用MyBatis Plus实现ORM映射</p>
        </div>
        
        <div class="layer">
            <div class="layer-title">Entity层 - 实体模型</div>
            <p style="margin: 10px 0; font-size: 14px;">定义数据库实体类，与数据库表一一对应</p>
        </div>
    </div>
    
    <h4>核心组件说明</h4>
    
    <table>
        <tr>
            <th style="width: 20%">组件名称</th>
            <th style="width: 30%">技术实现</th>
            <th>功能说明</th>
        </tr>
        <tr>
            <td><strong>统一响应</strong></td>
            <td>Result封装类</td>
            <td>统一API响应格式，包含code、message、data字段</td>
        </tr>
        <tr>
            <td><strong>全局异常</strong></td>
            <td>@ControllerAdvice</td>
            <td>全局异常捕获和处理，返回友好错误信息</td>
        </tr>
        <tr>
            <td><strong>参数校验</strong></td>
            <td>@Validated + JSR303</td>
            <td>自动校验请求参数，支持自定义校验规则</td>
        </tr>
        <tr>
            <td><strong>日志记录</strong></td>
            <td>SLF4J + Logback</td>
            <td>统一日志输出，支持日志级别控制和文件滚动</td>
        </tr>
        <tr>
            <td><strong>接口文档</strong></td>
            <td>Knife4j</td>
            <td>自动生成API文档，支持在线调试</td>
        </tr>
        <tr>
            <td><strong>数据权限</strong></td>
            <td>MyBatis拦截器</td>
            <td>实现数据级权限控制，自动过滤数据</td>
        </tr>
        <tr>
            <td><strong>多数据源</strong></td>
            <td>Dynamic Datasource</td>
            <td>支持多数据源动态切换，读写分离</td>
        </tr>
        <tr>
            <td><strong>分布式锁</strong></td>
            <td>Redisson</td>
            <td>基于Redis实现分布式锁，解决并发问题</td>
        </tr>
    </table>
    
    <h3>3.2.2 前端技术架构</h3>
    
    <p>前端采用Next.js 16框架，基于React 19开发，使用TypeScript保证代码质量，Tailwind CSS实现样式管理。</p>
    
    <div class="architecture-box">
        <h4>Next.js前端架构</h4>
        
        <div class="layer">
            <div class="layer-title">页面层 - Pages</div>
            <p style="margin: 10px 0; font-size: 14px;">基于文件系统的路由，支持SSR和SSG，页面级代码分割</p>
        </div>
        
        <div class="layer">
            <div class="layer-title">组件层 - Components</div>
            <p style="margin: 10px 0; font-size: 14px;">可复用的UI组件，shadcn/ui组件库，业务组件封装</p>
        </div>
        
        <div class="layer">
            <div class="layer-title">状态管理 - State</div>
            <p style="margin: 10px 0; font-size: 14px;">使用React Hooks管理状态，SWR实现数据缓存</p>
        </div>
        
        <div class="layer">
            <div class="layer-title">API层 - Services</div>
            <p style="margin: 10px 0; font-size: 14px;">封装HTTP请求，统一接口调用，错误处理</p>
        </div>
    </div>
    
    <h4>前端技术栈</h4>
    
    <table>
        <tr>
            <th style="width: 25%">技术分类</th>
            <th style="width: 30%">技术选型</th>
            <th>作用说明</th>
        </tr>
        <tr>
            <td><strong>核心框架</strong></td>
            <td>Next.js 16 + React 19</td>
            <td>现代化前端框架，支持SSR，提升SEO和首屏加载速度</td>
        </tr>
        <tr>
            <td><strong>开发语言</strong></td>
            <td>TypeScript 5.x</td>
            <td>类型安全，提升代码质量，减少运行时错误</td>
        </tr>
        <tr>
            <td><strong>样式方案</strong></td>
            <td>Tailwind CSS v4</td>
            <td>原子化CSS，快速构建UI，样式可复用</td>
        </tr>
        <tr>
            <td><strong>UI组件库</strong></td>
            <td>shadcn/ui</td>
            <td>基于Radix UI，无侵入式组件，完全可定制</td>
        </tr>
        <tr>
            <td><strong>表单处理</strong></td>
            <td>React Hook Form</td>
            <td>高性能表单库，支持表单校验和状态管理</td>
        </tr>
        <tr>
            <td><strong>数据请求</strong></td>
            <td>SWR</td>
            <td>数据获取和缓存，支持自动重新验证</td>
        </tr>
        <tr>
            <td><strong>图表可视化</strong></td>
            <td>Recharts</td>
            <td>基于React的图表库，声明式API，易于使用</td>
        </tr>
        <tr>
            <td><strong>日期处理</strong></td>
            <td>date-fns</td>
            <td>轻量级日期处理库，模块化设计</td>
        </tr>
        <tr>
            <td><strong>代码规范</strong></td>
            <td>ESLint + Prettier</td>
            <td>代码检查和格式化，统一代码风格</td>
        </tr>
    </table>
    
    <div class="figure">
        <img src="/placeholder.svg?height=500&width=900&text=前后端交互流程图" alt="交互流程">
        <div class="figure-caption">图3-2 前后端交互流程</div>
    </div>
    
    <div class="page-number">第 44 页</div>
</div>

<!-- 第5章：数据库设计 -->
<div class="container chapter">
    <h1>第5章 数据库设计</h1>
    
    <h2>5.1 数据库选型</h2>
    
    <h3>5.1.1 人大金仓数据库介绍</h3>
    
    <p>人大金仓数据库管理系统（KingbaseES）是北京人大金仓信息技术股份有限公司自主研发的具有自主知识产权的通用关系型数据库管理系统。KingbaseES V8采用SQL标准，高度兼容PostgreSQL，支持ACID事务特性，具备高性能、高可用、高安全等特点。</p>
    
    <h3>5.1.2 选型优势</h3>
    
    <table>
        <tr>
            <th style="width: 25%">优势类别</th>
            <th>具体说明</th>
        </tr>
        <tr>
            <td><strong>国产自主</strong></td>
            <td>
                <ul>
                    <li>完全自主知识产权，核心技术可控</li>
                    <li>符合国家信创要求，满足安全可控需求</li>
                    <li>获得多项国家认证和资质</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><strong>高度兼容</strong></td>
            <td>
                <ul>
                    <li>兼容PostgreSQL语法和API</li>
                    <li>支持标准SQL，易于迁移</li>
                    <li>支持主流开发语言和ORM框架</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><strong>性能优异</strong></td>
            <td>
                <ul>
                    <li>支持多核并行处理，充分利用硬件资源</li>
                    <li>高效的查询优化器，查询性能优异</li>
                    <li>支持分区表、索引等性能优化手段</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><strong>高可用性</strong></td>
            <td>
                <ul>
                    <li>支持主备复制、读写分离</li>
                    <li>支持自动故障切换</li>
                    <li>提供完善的备份恢复机制</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><strong>安全可靠</strong></td>
            <td>
                <ul>
                    <li>通过等保三级认证</li>
                    <li>支持数据加密、审计功能</li>
                    <li>完善的权限管理体系</li>
                </ul>
            </td>
        </tr>
    </table>
    
    <h3>5.1.3 与麒麟操作系统的适配</h3>
    
    <p>人大金仓数据库与麒麟操作系统经过充分的适配测试，在麒麟操作系统V10环境下运行稳定，性能优异。主要适配特性包括：</p>
    
    <ul>
        <li><strong>完全兼容：</strong>在麒麟操作系统上可正常安装和运行，无需额外配置</li>
        <li><strong>性能优化：</strong>针对麒麟操作系统进行了专门的性能优化</li>
        <li><strong>稳定可靠：</strong>经过大量测试验证，长期稳定运行</li>
        <li><strong>技术支持：</strong>提供专业的技术支持和服务保障</li>
    </ul>
    
    <div class="alert alert-info">
        <strong>版本信息：</strong>
        <p class="no-indent">
            操作系统：麒麟操作系统V10（KylinOS V10）<br>
            数据库：人大金仓KingbaseES V8.6<br>
            兼容性：完全兼容，已通过适配认证
        </p>
    </div>
    
    <h2>5.2 数据库架构</h2>
    
    <p>系统采用主备架构，实现数据库的高可用性。主库负责读写操作，备库实时同步主库数据，当主库故障时自动切换到备库，确保业务不中断。</p>
    
    <div class="figure">
        <img src="/placeholder.svg?height=400&width=800&text=数据库主备架构图" alt="数据库架构">
        <div class="figure-caption">图5-1 数据库主备架构</div>
    </div>
    
    <h3>5.2.1 主备复制方案</h3>
    
    <table>
        <tr>
            <th style="width: 25%">配置项</th>
            <th>配置说明</th>
        </tr>
        <tr>
            <td><strong>复制方式</strong></td>
            <td>流复制（Streaming Replication），实时同步数据</td>
        </tr>
        <tr>
            <td><strong>同步模式</strong></td>
            <td>异步复制，平衡性能和数据一致性</td>
        </tr>
        <tr>
            <td><strong>故障切换</strong></td>
            <td>自动故障检测和切换，RTO < 30秒</td>
        </tr>
        <tr>
            <td><strong>数据延迟</strong></td>
            <td>正常情况下延迟 < 1秒</td>
        </tr>
        <tr>
            <td><strong>备库数量</strong></td>
            <td>1个同步备库 + 1个异步备库</td>
        </tr>
    </table>
    
    <h3>5.2.2 读写分离</h3>
    
    <p>为提升系统性能，查询请求路由到备库执行，写入请求路由到主库执行，实现读写分离。通过数据库中间件或应用层实现自动路由。</p>
    
    <pre><code>// Java代码示例：使用Dynamic-Datasource实现读写分离
@DS("master") // 主库
public void saveProject(Project project) {
    projectMapper.insert(project);
}

@DS("slave") // 从库
public List<Project> queryProjects() {
    return projectMapper.selectList(null);
}</code></pre>
    
    <div class="page-number">第 209 页</div>
</div>

<!-- 第5章续：表结构设计 -->
<div class="container chapter">
    <h2>5.3 表结构设计</h2>
    
    <p>系统共设计32张核心数据表，覆盖用户权限、需求管理、项目管理、专家管理、成果管理等各个业务领域。以下列举关键表的设计。</p>
    
    <h3>5.3.1 用户权限表</h3>
    
    <h4>1. 用户表（sys_user）</h4>
    
    <table>
        <tr>
            <th style="width: 20%">字段名</th>
            <th style="width: 15%">类型</th>
            <th style="width: 10%">空值</th>
            <th>说明</th>
        </tr>
        <tr>
            <td><strong>user_id</strong></td>
            <td>BIGINT</td>
            <td>NOT NULL</td>
            <td>用户ID，主键</td>
        </tr>
        <tr>
            <td>username</td>
            <td>VARCHAR(50)</td>
            <td>NOT NULL</td>
            <td>用户名，唯一</td>
        </tr>
        <tr>
            <td>password</td>
            <td>VARCHAR(200)</td>
            <td>NOT NULL</td>
            <td>密码，BCrypt加密</td>
        </tr>
        <tr>
            <td>real_name</td>
            <td>VARCHAR(50)</td>
            <td></td>
            <td>真实姓名</td>
        </tr>
        <tr>
            <td>id_card</td>
            <td>VARCHAR(18)</td>
            <td></td>
            <td>身份证号</td>
        </tr>
        <tr>
            <td>phone</td>
            <td>VARCHAR(11)</td>
            <td></td>
            <td>手机号</td>
        </tr>
        <tr>
            <td>email</td>
            <td>VARCHAR(100)</td>
            <td></td>
            <td>邮箱</td>
        </tr>
        <tr>
            <td>org_id</td>
            <td>BIGINT</td>
            <td></td>
            <td>所属机构ID</td>
        </tr>
        <tr>
            <td>user_type</td>
            <td>VARCHAR(20)</td>
            <td></td>
            <td>用户类型：supervisor监管端/researcher科研端/expert专家端</td>
        </tr>
        <tr>
            <td>status</td>
            <td>VARCHAR(20)</td>
            <td></td>
            <td>状态：active正常/locked锁定/disabled禁用</td>
        </tr>
        <tr>
            <td>create_time</td>
            <td>TIMESTAMP</td>
            <td></td>
            <td>创建时间</td>
        </tr>
        <tr>
            <td>update_time</td>
            <td>TIMESTAMP</td>
            <td></td>
            <td>更新时间</td>
        </tr>
    </table>
    
    <h4>2. 角色表（sys_role）</h4>
    
    <table>
        <tr>
            <th style="width: 20%">字段名</th>
            <th style="width: 15%">类型</th>
            <th style="width: 10%">空值</th>
            <th>说明</th>
        </tr>
        <tr>
            <td><strong>role_id</strong></td>
            <td>BIGINT</td>
            <td>NOT NULL</td>
            <td>角色ID，主键</td>
        </tr>
        <tr>
            <td>role_code</td>
            <td>VARCHAR(50)</td>
            <td>NOT NULL</td>
            <td>角色编码，唯一</td>
        </tr>
        <tr>
            <td>role_name</td>
            <td>VARCHAR(100)</td>
            <td>NOT NULL</td>
            <td>角色名称</td>
        </tr>
        <tr>
            <td>description</td>
            <td>VARCHAR(500)</td>
            <td></td>
            <td>角色描述</td>
        </tr>
        <tr>
            <td>sort_order</td>
            <td>INT</td>
            <td></td>
            <td>排序号</td>
        </tr>
        <tr>
            <td>status</td>
            <td>VARCHAR(20)</td>
            <td></td>
            <td>状态</td>
        </tr>
        <tr>
            <td>create_time</td>
            <td>TIMESTAMP</td>
            <td></td>
            <td>创建时间</td>
        </tr>
    </table>
    
    <h3>5.3.2 项目管理表</h3>
    
    <h4>3. 项目表（project）</h4>
    
    <table>
        <tr>
            <th style="width: 20%">字段名</th>
            <th style="width: 15%">类型</th>
            <th style="width: 10%">空值</th>
            <th>说明</th>
        </tr>
        <tr>
            <td><strong>project_id</strong></td>
            <td>BIGINT</td>
            <td>NOT NULL</td>
            <td>项目ID，主键</td>
        </tr>
        <tr>
            <td>project_code</td>
            <td>VARCHAR(50)</td>
            <td>NOT NULL</td>
            <td>项目编号，唯一</td>
        </tr>
        <tr>
            <td>project_name</td>
            <td>VARCHAR(200)</td>
            <td>NOT NULL</td>
            <td>项目名称</td>
        </tr>
        <tr>
            <td>project_type</td>
            <td>VARCHAR(50)</td>
            <td></td>
            <td>项目类型：基础研究/应用开发/示范推广</td>
        </tr>
        <tr>
            <td>field</td>
            <td>VARCHAR(100)</td>
            <td></td>
            <td>所属领域</td>
        </tr>
        <tr>
            <td>leader_name</td>
            <td>VARCHAR(50)</td>
            <td></td>
            <td>项目负责人</td>
        </tr>
        <tr>
            <td>leader_phone</td>
            <td>VARCHAR(11)</td>
            <td></td>
            <td>负责人电话</td>
        </tr>
        <tr>
            <td>org_id</td>
            <td>BIGINT</td>
            <td></td>
            <td>承担单位ID</td>
        </tr>
        <tr>
            <td>org_name</td>
            <td>VARCHAR(200)</td>
            <td></td>
            <td>承担单位名称</td>
        </tr>
        <tr>
            <td>start_date</td>
            <td>DATE</td>
            <td></td>
            <td>开始时间</td>
        </tr>
        <tr>
            <td>end_date</td>
            <td>DATE</td>
            <td></td>
            <td>结束时间</td>
        </tr>
        <tr>
            <td>total_budget</td>
            <td>DECIMAL(15,2)</td>
            <td></td>
            <td>总经费（万元）</td>
        </tr>
        <tr>
            <td>apply_budget</td>
            <td>DECIMAL(15,2)</td>
            <td></td>
            <td>申请专项经费（万元）</td>
        </tr>
        <tr>
            <td>self_budget</td>
            <td>DECIMAL(15,2)</td>
            <td></td>
            <td>自筹经费（万元）</td>
        </tr>
        <tr>
            <td>status</td>
            <td>VARCHAR(50)</td>
            <td></td>
            <td>项目状态</td>
        </tr>
        <tr>
            <td>research_content</td>
            <td>TEXT</td>
            <td></td>
            <td>研究内容</td>
        </tr>
        <tr>
            <td>research_goal</td>
            <td>TEXT</td>
            <td></td>
            <td>预期成果</td>
        </tr>
        <tr>
            <td>create_time</td>
            <td>TIMESTAMP</td>
            <td></td>
            <td>创建时间</td>
        </tr>
        <tr>
            <td>update_time</td>
            <td>TIMESTAMP</td>
            <td></td>
            <td>更新时间</td>
        </tr>
    </table>
    
    <h4>4. 任务书表（project_task）</h4>
    
    <table>
        <tr>
            <th style="width: 20%">字段名</th>
            <th style="width: 15%">类型</th>
            <th style="width: 10%">空值</th>
            <th>说明</th>
        </tr>
        <tr>
            <td><strong>task_id</strong></td>
            <td>BIGINT</td>
            <td>NOT NULL</td>
            <td>任务ID，主键</td>
        </tr>
        <tr>
            <td>project_id</td>
            <td>BIGINT</td>
            <td>NOT NULL</td>
            <td>项目ID</td>
        </tr>
        <tr>
            <td>task_code</td>
            <td>VARCHAR(50)</td>
            <td></td>
            <td>任务编号</td>
        </tr>
        <tr>
            <td>task_name</td>
            <td>VARCHAR(200)</td>
            <td></td>
            <td>任务名称</td>
        </tr>
        <tr>
            <td>task_type</td>
            <td>VARCHAR(50)</td>
            <td></td>
            <td>任务类型</td>
        </tr>
        <tr>
            <td>task_desc</td>
            <td>TEXT</td>
            <td></td>
            <td>任务描述</td>
        </tr>
        <tr>
            <td>responsible_org</td>
            <td>VARCHAR(200)</td>
            <td></td>
            <td>负责单位</td>
        </tr>
        <tr>
            <td>responsible_person</td>
            <td>VARCHAR(50)</td>
            <td></td>
            <td>负责人</td>
        </tr>
        <tr>
            <td>start_date</td>
            <td>DATE</td>
            <td></td>
            <td>开始时间</td>
        </tr>
        <tr>
            <td>end_date</td>
            <td>DATE</td>
            <td></td>
            <td>结束时间</td>
        </tr>
        <tr>
            <td>status</td>
            <td>VARCHAR(50)</td>
            <td></td>
            <td>任务状态</td>
        </tr>
        <tr>
            <td>create_time</td>
            <td>TIMESTAMP</td>
            <td></td>
            <td>创建时间</td>
        </tr>
    </table>
    
    <div class="alert alert-warning">
        <strong>表设计说明：</strong>
        <p class="no-indent">
            1. 所有表都包含create_time和update_time字段，记录数据创建和更新时间<br>
            2. 主键统一使用BIGINT类型，支持雪花算法生成分布式ID<br>
            3. 状态字段使用VARCHAR存储枚举值，便于扩展<br>
            4. 金额字段使用DECIMAL(15,2)，精确到分
        </p>
    </div>
    
    <div class="page-number">第 220 页</div>
</div>

<!-- 第8章：部署方案 -->
<div class="container chapter">
    <h1>第8章 部署方案</h1>
    
    <h2>8.1 麒麟操作系统部署</h2>
    
    <h3>8.1.1 系统要求</h3>
    
    <table>
        <tr>
            <th style="width: 25%">配置项</th>
            <th>最低配置</th>
            <th>推荐配置</th>
        </tr>
        <tr>
            <td><strong>操作系统</strong></td>
            <td colspan="2">麒麟操作系统V10（KylinOS V10）</td>
        </tr>
        <tr>
            <td><strong>CPU</strong></td>
            <td>8核</td>
            <td>16核及以上</td>
        </tr>
        <tr>
            <td><strong>内存</strong></td>
            <td>16GB</td>
            <td>32GB及以上</td>
        </tr>
        <tr>
            <td><strong>磁盘</strong></td>
            <td>500GB SSD</td>
            <td>1TB SSD RAID10</td>
        </tr>
        <tr>
            <td><strong>网络</strong></td>
            <td>千兆网卡</td>
            <td>万兆网卡</td>
        </tr>
    </table>
    
    <h3>8.1.2 安装步骤</h3>
    
    <h4>1. 系统安装</h4>
    
    <pre><code># 1. 使用ISO镜像安装麒麟操作系统V10
# 2. 配置网络
nmcli con mod eth0 ipv4.addresses 192.168.1.100/24
nmcli con mod eth0 ipv4.gateway 192.168.1.1
nmcli con mod eth0 ipv4.dns 114.114.114.114
nmcli con mod eth0 ipv4.method manual
nmcli con up eth0

# 3. 更新系统
sudo apt update
sudo apt upgrade -y

# 4. 安装基础软件
sudo apt install -y vim wget curl net-tools</code></pre>
    
    <h4>2. Java环境配置</h4>
    
    <pre><code># 1. 安装OpenJDK 17
sudo apt install -y openjdk-17-jdk

# 2. 验证安装
java -version

# 3. 配置环境变量
echo 'export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64' >> ~/.bashrc
echo 'export PATH=$JAVA_HOME/bin:$PATH' >> ~/.bashrc
source ~/.bashrc</code></pre>
    
    <h4>3. 防火墙配置</h4>
    
    <pre><code># 开放必要端口
sudo firewall-cmd --permanent --add-port=8080/tcp  # 应用端口
sudo firewall-cmd --permanent --add-port=80/tcp    # HTTP
sudo firewall-cmd --permanent --add-port=443/tcp   # HTTPS
sudo firewall-cmd --permanent --add-port=54321/tcp # 数据库端口
sudo firewall-cmd --reload</code></pre>
    
    <h2>8.2 人大金仓数据库部署</h2>
    
    <h3>8.2.1 数据库安装</h3>
    
    <pre><code># 1. 解压安装包
tar -xvf KingbaseES_V008R006C007B0041_Lin64_install.tar.gz

# 2. 创建kingbase用户
sudo useradd -m kingbase
sudo passwd kingbase

# 3. 切换到kingbase用户
su - kingbase

# 4. 运行安装脚本
cd /opt/kingbase
./setup.sh -i silent

# 5. 初始化数据库
cd /opt/Kingbase/ES/V8/bin
./initdb -D /opt/Kingbase/ES/V8/data -U system -W

# 6. 启动数据库
./sys_ctl -D /opt/Kingbase/ES/V8/data start</code></pre>
    
    <h3>8.2.2 数据库配置</h3>
    
    <h4>kingbase.conf 配置</h4>
    
    <pre><code># 连接配置
listen_addresses = '*'
port = 54321
max_connections = 200

# 内存配置
shared_buffers = 4GB
effective_cache_size = 12GB
work_mem = 256MB
maintenance_work_mem = 1GB

# WAL配置
wal_level = replica
max_wal_senders = 3
wal_keep_segments = 64

# 日志配置
logging_collector = on
log_directory = 'log'
log_filename = 'kingbase-%Y-%m-%d.log'
log_statement = 'all'

# 性能优化
checkpoint_completion_target = 0.9
random_page_cost = 1.1</code></pre>
    
    <h4>pg_hba.conf 配置</h4>
    
    <pre><code># TYPE  DATABASE        USER            ADDRESS                 METHOD
local   all             all                                     trust
host    all             all             0.0.0.0/0               md5
host    replication     replicator      192.168.1.0/24          md5</code></pre>
    
    <h3>8.2.3 数据库初始化</h3>
    
    <pre><code># 1. 连接数据库
ksql -h localhost -p 54321 -U system

# 2. 创建数据库
CREATE DATABASE research_project 
    WITH ENCODING = 'UTF8' 
    LC_COLLATE = 'zh_CN.UTF-8' 
    LC_CTYPE = 'zh_CN.UTF-8';

# 3. 创建用户
CREATE USER project_user WITH PASSWORD 'YourPassword123!';

# 4. 授权
GRANT ALL PRIVILEGES ON DATABASE research_project TO project_user;

# 5. 执行建表脚本
\i /path/to/schema.sql

# 6. 执行初始化数据脚本
\i /path/to/init_data.sql</code></pre>
    
    <h2>8.3 应用服务器部署</h2>
    
    <h3>8.3.1 后端应用部署</h3>
    
    <pre><code># 1. 上传应用JAR包
scp project-backend.jar kingbase@192.168.1.100:/opt/app/

# 2. 创建配置文件
cat > /opt/app/application-prod.yml << EOF
server:
  port: 8080

spring:
  datasource:
    url: jdbc:kingbase8://localhost:54321/research_project
    username: project_user
    password: YourPassword123!
    driver-class-name: com.kingbase8.Driver

  redis:
    host: localhost
    port: 6379
    password: Redis123!

logging:
  level:
    root: INFO
    com.research: DEBUG
  file:
    name: /opt/app/logs/application.log
EOF

# 3. 创建启动脚本
cat > /opt/app/start.sh << 'EOF'
#!/bin/bash
APP_NAME=project-backend.jar
JVM_OPTS="-Xms2g -Xmx4g -XX:+UseG1GC"
nohup java $JVM_OPTS -jar $APP_NAME --spring.profiles.active=prod > /dev/null 2>&1 &
echo $! > app.pid
EOF

chmod +x /opt/app/start.sh

# 4. 启动应用
cd /opt/app
./start.sh</code></pre>
    
    <h3>8.3.2 前端应用部署</h3>
    
    <pre><code># 1. 构建前端
cd frontend
npm run build

# 2. 安装Nginx
sudo apt install -y nginx

# 3. 配置Nginx
cat > /etc/nginx/sites-available/research-project << 'EOF'
server {
    listen 80;
    server_name research.example.com;

    root /var/www/research-project;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    location /api/ {
        proxy_pass http://localhost:8080/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }

    location ~* \.(jpg|jpeg|png|gif|ico|css|js)$ {
        expires 7d;
    }
}
EOF

# 4. 启用站点
sudo ln -s /etc/nginx/sites-available/research-project /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx

# 5. 部署前端文件
sudo mkdir -p /var/www/research-project
sudo cp -r out/* /var/www/research-project/
sudo chown -R www-data:www-data /var/www/research-project</code></pre>
    
    <h2>8.4 系统监控配置</h2>
    
    <h3>8.4.1 应用监控</h3>
    
    <pre><code># 使用Spring Boot Actuator监控应用健康状态
curl http://localhost:8080/actuator/health

# 返回示例
{
  "status": "UP",
  "components": {
    "db": {
      "status": "UP",
      "details": {
        "database": "KingbaseES",
        "validationQuery": "SELECT 1"
      }
    },
    "redis": {
      "status": "UP"
    }
  }
}</code></pre>
    
    <h3>8.4.2 数据库监控</h3>
    
    <pre><code># 查询数据库连接数
SELECT count(*) FROM sys_stat_activity;

# 查询慢查询
SELECT query, calls, total_time, mean_time 
FROM sys_stat_statements 
ORDER BY mean_time DESC 
LIMIT 10;

# 查询数据库大小
SELECT 
    datname, 
    sys_size_pretty(sys_database_size(datname)) 
FROM sys_database;</code></pre>
    
    <div class="alert alert-success">
        <strong>部署完成检查清单：</strong>
        <p class="no-indent">
            ☑ 麒麟操作系统安装并配置完成<br>
            ☑ 人大金仓数据库安装并初始化完成<br>
            ☑ 后端应用启动并可访问<br>
            ☑ 前端应用部署并可访问<br>
            ☑ 数据库连接正常<br>
            ☑ Redis缓存正常<br>
            ☑ 监控系统正常运行<br>
            ☑ 日志输出正常<br>
            ☑ 防火墙规则配置完成<br>
            ☑ SSL证书配置完成（生产环境）
        </p>
    </div>
    
    <div class="page-number">第 324 页</div>
</div>

<!-- 文档结束标记 -->
<div class="container" style="text-align: center; padding: 100px 0;">
    <h1 style="color: #667eea;">文档结束</h1>
    <p style="font-size: 18px; margin-top: 30px;">
        湖南省自然资源科研项目管理系统 - 初步设计方案<br>
        版本：V1.0<br>
        日期：2025年1月
    </p>
</div>

</body>
</html>
