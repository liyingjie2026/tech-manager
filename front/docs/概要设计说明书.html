<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>科研项目管理系统 - 概要设计说明书</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: "Microsoft YaHei", "SimSun", Arial, sans-serif;
            line-height: 1.8;
            color: #333;
            background: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px 60px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        .cover {
            text-align: center;
            padding: 100px 0;
            border-bottom: 3px solid #2c3e50;
            margin-bottom: 50px;
        }
        
        .cover h1 {
            font-size: 36px;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .cover h2 {
            font-size: 28px;
            color: #34495e;
            margin-bottom: 60px;
        }
        
        .cover .info {
            font-size: 16px;
            color: #7f8c8d;
            margin-top: 80px;
        }
        
        .toc {
            background: #ecf0f1;
            padding: 30px;
            margin-bottom: 40px;
            border-left: 4px solid #3498db;
        }
        
        .toc h2 {
            font-size: 24px;
            margin-bottom: 20px;
            color: #2c3e50;
        }
        
        .toc ul {
            list-style: none;
        }
        
        .toc li {
            padding: 8px 0;
            border-bottom: 1px dotted #bdc3c7;
        }
        
        .toc a {
            color: #3498db;
            text-decoration: none;
            display: flex;
            justify-content: space-between;
        }
        
        .toc a:hover {
            color: #2980b9;
        }
        
        h1 {
            font-size: 32px;
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin: 40px 0 20px 0;
        }
        
        h2 {
            font-size: 26px;
            color: #34495e;
            margin: 30px 0 15px 0;
            padding-left: 10px;
            border-left: 5px solid #3498db;
        }
        
        h3 {
            font-size: 20px;
            color: #7f8c8d;
            margin: 25px 0 12px 0;
        }
        
        p {
            margin: 12px 0;
            text-indent: 2em;
        }
        
        ul, ol {
            margin: 15px 0;
            padding-left: 40px;
        }
        
        li {
            margin: 8px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 14px;
        }
        
        table thead {
            background: #34495e;
            color: white;
        }
        
        table th, table td {
            border: 1px solid #bdc3c7;
            padding: 12px;
            text-align: left;
        }
        
        table tbody tr:nth-child(even) {
            background: #ecf0f1;
        }
        
        .diagram {
            margin: 30px 0;
            text-align: center;
            background: #f8f9fa;
            padding: 20px;
            border: 1px solid #dee2e6;
        }
        
        .diagram img {
            max-width: 100%;
            height: auto;
        }
        
        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
        }
        
        .note strong {
            color: #856404;
        }
        
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: "Courier New", monospace;
            color: #e74c3c;
        }
        
        .module-box {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .page-break {
            page-break-after: always;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 封面 -->
        <div class="cover">
            <h1>科研项目管理系统</h1>
            <h2>概要设计说明书</h2>
            <div class="info">
                <p>版本：V1.0</p>
                <p>编制日期：2024年12月</p>
            </div>
        </div>

        <!-- 目录 -->
        <div class="toc">
            <h2>目录</h2>
            <ul>
                <li><a href="#intro"><span>1. 引言</span><span>1</span></a></li>
                <li><a href="#architecture"><span>2. 系统架构设计</span><span>3</span></a></li>
                <li><a href="#modules"><span>3. 功能模块设计</span><span>5</span></a></li>
                <li><a href="#database"><span>4. 数据库设计</span><span>12</span></a></li>
                <li><a href="#interface"><span>5. 接口设计</span><span>15</span></a></li>
                <li><a href="#security"><span>6. 安全性设计</span><span>18</span></a></li>
                <li><a href="#deployment"><span>7. 部署方案</span><span>20</span></a></li>
            </ul>
        </div>

        <!-- 第1章 引言 -->
        <div id="intro" class="page-break">
            <h1>1. 引言</h1>
            
            <h2>1.1 编写目的</h2>
            <p>本概要设计说明书旨在对科研项目管理系统的整体架构、功能模块划分、技术选型等进行详细说明，为后续的详细设计和系统实现提供指导。本文档的预期读者包括项目经理、系统架构师、开发人员、测试人员和运维人员。</p>

            <h2>1.2 项目背景</h2>
            <p>随着科研项目数量的不断增加，传统的人工管理方式已经无法满足高效、规范的管理需求。本系统旨在构建一个全流程、一体化的科研项目管理平台，涵盖项目申报、立项审批、任务书管理、中期检查、验收管理、成果管理等全生命周期管理功能。</p>

            <h2>1.3 系统目标</h2>
            <ul>
                <li>实现科研项目全生命周期数字化管理</li>
                <li>规范项目申报、审批、执行、验收流程</li>
                <li>支持专家评审和在线评分功能</li>
                <li>提供项目进度跟踪和预警机制</li>
                <li>实现科研资源共享与协同</li>
                <li>提供多维度数据统计与决策支持</li>
            </ul>

            <h2>1.4 术语定义</h2>
            <table>
                <thead>
                    <tr>
                        <th width="20%">术语</th>
                        <th width="80%">定义</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>项目申报</td>
                        <td>科研单位或个人根据科研需求，向主管部门提交项目申请的过程</td>
                    </tr>
                    <tr>
                        <td>专家评审</td>
                        <td>由领域专家对项目申请、中期检查、验收等环节进行评审打分</td>
                    </tr>
                    <tr>
                        <td>任务书</td>
                        <td>项目立项后，详细说明项目研究内容、技术路线、预期成果的文档</td>
                    </tr>
                    <tr>
                        <td>中期检查</td>
                        <td>项目执行过程中的阶段性检查，评估项目进展情况</td>
                    </tr>
                    <tr>
                        <td>验收</td>
                        <td>项目完成后，对项目成果进行全面评估和验收的过程</td>
                    </tr>
                    <tr>
                        <td>工作流</td>
                        <td>项目审批、评审等业务流程的自动化流转机制</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- 第2章 系统架构设计 -->
        <div id="architecture" class="page-break">
            <h1>2. 系统架构设计</h1>

            <h2>2.1 总体架构</h2>
            <p>系统采用前后端分离的B/S架构，基于Spring Boot + Next.js技术栈构建。整体采用分层架构设计，包括表现层、业务逻辑层、数据访问层和基础设施层。</p>

            <div class="diagram">
                <svg width="800" height="400" xmlns="http://www.w3.org/2000/svg">
                    <!-- 浏览器层 -->
                    <rect x="300" y="20" width="200" height="60" fill="#3498db" stroke="#2c3e50" stroke-width="2"/>
                    <text x="400" y="55" text-anchor="middle" fill="white" font-size="16">浏览器客户端</text>
                    
                    <!-- 表现层 -->
                    <rect x="300" y="120" width="200" height="60" fill="#9b59b6" stroke="#2c3e50" stroke-width="2"/>
                    <text x="400" y="155" text-anchor="middle" fill="white" font-size="16">表现层 (Next.js)</text>
                    
                    <!-- API网关 -->
                    <rect x="300" y="220" width="200" height="40" fill="#e74c3c" stroke="#2c3e50" stroke-width="2"/>
                    <text x="400" y="245" text-anchor="middle" fill="white" font-size="14">API Gateway</text>
                    
                    <!-- 业务层 -->
                    <rect x="50" y="300" width="150" height="60" fill="#27ae60" stroke="#2c3e50" stroke-width="2"/>
                    <text x="125" y="335" text-anchor="middle" fill="white" font-size="14">业务逻辑层</text>
                    
                    <rect x="250" y="300" width="150" height="60" fill="#27ae60" stroke="#2c3e50" stroke-width="2"/>
                    <text x="325" y="335" text-anchor="middle" fill="white" font-size="14">工作流引擎</text>
                    
                    <rect x="450" y="300" width="150" height="60" fill="#27ae60" stroke="#2c3e50" stroke-width="2"/>
                    <text x="525" y="335" text-anchor="middle" fill="white" font-size="14">权限控制</text>
                    
                    <!-- 数据层 -->
                    <rect x="150" y="380" width="120" height="50" fill="#f39c12" stroke="#2c3e50" stroke-width="2"/>
                    <text x="210" y="410" text-anchor="middle" fill="white" font-size="14">MySQL</text>
                    
                    <rect x="330" y="380" width="120" height="50" fill="#f39c12" stroke="#2c3e50" stroke-width="2"/>
                    <text x="390" y="410" text-anchor="middle" fill="white" font-size="14">Redis</text>
                    
                    <rect x="510" y="380" width="120" height="50" fill="#f39c12" stroke="#2c3e50" stroke-width="2"/>
                    <text x="570" y="410" text-anchor="middle" fill="white" font-size="14">文件存储</text>
                    
                    <!-- 连接线 -->
                    <line x1="400" y1="80" x2="400" y2="120" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <line x1="400" y1="180" x2="400" y2="220" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <line x1="350" y1="260" x2="125" y2="300" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <line x1="400" y1="260" x2="325" y2="300" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <line x1="450" y1="260" x2="525" y2="300" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <line x1="125" y1="360" x2="210" y2="380" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <line x1="325" y1="360" x2="390" y2="380" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <line x1="525" y1="360" x2="570" y2="380" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#2c3e50" />
                        </marker>
                    </defs>
                </svg>
                <p><strong>图2-1 系统总体架构图</strong></p>
            </div>

            <h2>2.2 技术架构</h2>
            
            <h3>2.2.1 前端技术栈</h3>
            <table>
                <thead>
                    <tr>
                        <th width="25%">技术</th>
                        <th width="20%">版本</th>
                        <th width="55%">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Next.js</td>
                        <td>15.x</td>
                        <td>React服务端渲染框架，支持App Router</td>
                    </tr>
                    <tr>
                        <td>React</td>
                        <td>19.x</td>
                        <td>前端UI框架</td>
                    </tr>
                    <tr>
                        <td>TypeScript</td>
                        <td>5.x</td>
                        <td>类型安全的JavaScript超集</td>
                    </tr>
                    <tr>
                        <td>Tailwind CSS</td>
                        <td>4.x</td>
                        <td>原子化CSS框架</td>
                    </tr>
                    <tr>
                        <td>Shadcn UI</td>
                        <td>Latest</td>
                        <td>高质量React组件库</td>
                    </tr>
                </tbody>
            </table>

            <h3>2.2.2 后端技术栈</h3>
            <table>
                <thead>
                    <tr>
                        <th width="25%">技术</th>
                        <th width="20%">版本</th>
                        <th width="55%">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Spring Boot</td>
                        <td>3.2.x</td>
                        <td>微服务开发框架</td>
                    </tr>
                    <tr>
                        <td>MyBatis Plus</td>
                        <td>3.5.x</td>
                        <td>增强的持久层框架</td>
                    </tr>
                    <tr>
                        <td>Spring Security</td>
                        <td>6.x</td>
                        <td>安全认证框架</td>
                    </tr>
                    <tr>
                        <td>JWT</td>
                        <td>0.11.x</td>
                        <td>Token认证</td>
                    </tr>
                    <tr>
                        <td>MySQL</td>
                        <td>8.0</td>
                        <td>关系型数据库</td>
                    </tr>
                    <tr>
                        <td>Redis</td>
                        <td>7.x</td>
                        <td>缓存数据库</td>
                    </tr>
                </tbody>
            </table>

            <h2>2.3 部署架构</h2>
            <p>系统支持单机部署和集群部署两种方式。生产环境建议采用负载均衡 + 多节点部署的集群架构，确保系统的高可用性和高性能。</p>

            <div class="note">
                <strong>注意：</strong>开发测试环境可采用单机部署方式，生产环境建议采用集群部署架构，并配置Redis集群和MySQL主从复制。
            </div>
        </div>

        <!-- 第3章 功能模块设计 -->
        <div id="modules" class="page-break">
            <h1>3. 功能模块设计</h1>

            <h2>3.1 模块总览</h2>
            <p>系统主要包含以下10个核心功能模块：</p>

            <div class="diagram">
                <svg width="800" height="500" xmlns="http://www.w3.org/2000/svg">
                    <!-- 中心模块 -->
                    <rect x="300" y="200" width="200" height="80" fill="#2c3e50" stroke="#34495e" stroke-width="2" rx="10"/>
                    <text x="400" y="235" text-anchor="middle" fill="white" font-size="16" font-weight="bold">科研项目管理系统</text>
                    <text x="400" y="255" text-anchor="middle" fill="white" font-size="12">Expert Review Workflow</text>
                    
                    <!-- 周围模块 -->
                    <rect x="50" y="50" width="140" height="50" fill="#3498db" stroke="#2980b9" stroke-width="2" rx="5"/>
                    <text x="120" y="80" text-anchor="middle" fill="white" font-size="14">项目管理</text>
                    
                    <rect x="300" y="50" width="140" height="50" fill="#3498db" stroke="#2980b9" stroke-width="2" rx="5"/>
                    <text x="370" y="80" text-anchor="middle" fill="white" font-size="14">专家评审</text>
                    
                    <rect x="550" y="50" width="140" height="50" fill="#3498db" stroke="#2980b9" stroke-width="2" rx="5"/>
                    <text x="620" y="80" text-anchor="middle" fill="white" font-size="14">任务书管理</text>
                    
                    <rect x="50" y="160" width="140" height="50" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" rx="5"/>
                    <text x="120" y="190" text-anchor="middle" fill="white" font-size="14">中期检查</text>
                    
                    <rect x="610" y="160" width="140" height="50" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" rx="5"/>
                    <text x="680" y="190" text-anchor="middle" fill="white" font-size="14">年度检查</text>
                    
                    <rect x="50" y="270" width="140" height="50" fill="#e74c3c" stroke="#c0392b" stroke-width="2" rx="5"/>
                    <text x="120" y="300" text-anchor="middle" fill="white" font-size="14">验收管理</text>
                    
                    <rect x="610" y="270" width="140" height="50" fill="#e74c3c" stroke="#c0392b" stroke-width="2" rx="5"/>
                    <text x="680" y="300" text-anchor="middle" fill="white" font-size="14">成果管理</text>
                    
                    <rect x="50" y="380" width="140" height="50" fill="#27ae60" stroke="#229954" stroke-width="2" rx="5"/>
                    <text x="120" y="410" text-anchor="middle" fill="white" font-size="14">资源共享</text>
                    
                    <rect x="300" y="380" width="140" height="50" fill="#27ae60" stroke="#229954" stroke-width="2" rx="5"/>
                    <text x="370" y="410" text-anchor="middle" fill="white" font-size="14">需求管理</text>
                    
                    <rect x="550" y="380" width="140" height="50" fill="#27ae60" stroke="#229954" stroke-width="2" rx="5"/>
                    <text x="620" y="410" text-anchor="middle" fill="white" font-size="14">系统管理</text>
                    
                    <!-- 连接线 -->
                    <line x1="190" y1="75" x2="300" y2="220" stroke="#95a5a6" stroke-width="2"/>
                    <line x1="370" y1="100" x2="380" y2="200" stroke="#95a5a6" stroke-width="2"/>
                    <line x1="550" y1="75" x2="480" y2="220" stroke="#95a5a6" stroke-width="2"/>
                    <line x1="190" y1="185" x2="300" y2="240" stroke="#95a5a6" stroke-width="2"/>
                    <line x1="610" y1="185" x2="500" y2="240" stroke="#95a5a6" stroke-width="2"/>
                    <line x1="190" y1="295" x2="300" y2="260" stroke="#95a5a6" stroke-width="2"/>
                    <line x1="610" y1="295" x2="500" y2="260" stroke="#95a5a6" stroke-width="2"/>
                    <line x1="120" y1="380" x2="330" y2="280" stroke="#95a5a6" stroke-width="2"/>
                    <line x1="370" y1="380" x2="390" y2="280" stroke="#95a5a6" stroke-width="2"/>
                    <line x1="620" y1="380" x2="470" y2="280" stroke="#95a5a6" stroke-width="2"/>
                </svg>
                <p><strong>图3-1 功能模块关系图</strong></p>
            </div>

            <h2>3.2 项目管理模块</h2>
            <div class="module-box">
                <h3>功能描述</h3>
                <p>提供科研项目的全流程管理功能，包括项目申报、立项审批、项目变更、项目结项等。</p>
                
                <h3>主要功能点</h3>
                <ul>
                    <li>项目申报：支持在线填写项目申请书，上传附件材料</li>
                    <li>形式审查：管理部门对项目申请进行初步审查</li>
                    <li>专家评审：系统自动抽取专家进行项目评审</li>
                    <li>立项审批：根据评审结果进行立项决策</li>
                    <li>项目变更：支持项目负责人、预算、研究内容等变更申请</li>
                    <li>项目查询：多维度检索和统计项目信息</li>
                </ul>
                
                <h3>关键Controller</h3>
                <ul>
                    <li><code>ProjectController</code>: 项目基本信息管理</li>
                    <li><code>ChangeController</code>: 项目变更管理</li>
                </ul>
            </div>

            <h2>3.3 专家评审模块</h2>
            <div class="module-box">
                <h3>功能描述</h3>
                <p>支持专家库管理、专家抽取、在线评审、评分汇总等功能，实现评审流程的全数字化管理。</p>
                
                <h3>主要功能点</h3>
                <ul>
                    <li>专家库管理：专家信息录入、资质审核、专业分类</li>
                    <li>专家抽取：按专业领域随机抽取评审专家，支持回避机制</li>
                    <li>在线评审：专家在线查看项目材料，填写评审意见和打分</li>
                    <li>评分汇总：自动计算评审得分，生成评审报告</li>
                    <li>评审管理：评审任务分配、进度跟踪、催办提醒</li>
                </ul>
                
                <h3>关键Controller</h3>
                <ul>
                    <li><code>ExpertController</code>: 专家信息管理</li>
                    <li><code>ExpertReviewController</code>: 评审管理</li>
                </ul>
            </div>

            <h2>3.4 任务书管理模块</h2>
            <div class="module-box">
                <h3>功能描述</h3>
                <p>项目立项后，项目负责人编制任务书，明确研究内容、技术路线、进度安排和预期成果。</p>
                
                <h3>主要功能点</h3>
                <ul>
                    <li>任务书填报：在线填写任务书各项内容</li>
                    <li>任务分解：将项目任务分解为多个子任务</li>
                    <li>进度管理：跟踪各子任务的完成情况</li>
                    <li>任务书审核：主管部门审核任务书</li>
                    <li>中期调整：支持任务书中期调整申请</li>
                </ul>
                
                <h3>关键Controller</h3>
                <ul>
                    <li><code>TaskBookController</code>: 任务书管理</li>
                </ul>
            </div>

            <h2>3.5 中期检查模块</h2>
            <div class="module-box">
                <h3>功能描述</h3>
                <p>对项目执行情况进行阶段性检查，评估项目进展，及时发现和解决问题。</p>
                
                <h3>主要功能点</h3>
                <ul>
                    <li>检查通知：系统自动生成中期检查通知</li>
                    <li>材料提交：项目负责人提交中期报告和相关材料</li>
                    <li>专家评审：组织专家进行中期检查评审</li>
                    <li>结果反馈：向项目组反馈检查意见</li>
                    <li>整改跟踪：对存在问题的项目进行整改跟踪</li>
                </ul>
                
                <h3>关键Controller</h3>
                <ul>
                    <li><code>MidtermController</code>: 中期检查管理</li>
                </ul>
            </div>

            <h2>3.6 年度检查模块</h2>
            <div class="module-box">
                <h3>功能描述</h3>
                <p>按年度对项目执行情况进行检查，评估年度目标完成情况。</p>
                
                <h3>主要功能点</h3>
                <ul>
                    <li>年度报告：项目负责人填报年度工作总结</li>
                    <li>经费使用情况：统计分析项目经费使用情况</li>
                    <li>成果产出情况：统计项目阶段性成果</li>
                    <li>年度评估：对项目年度执行情况进行评估</li>
                </ul>
                
                <h3>关键Controller</h3>
                <ul>
                    <li><code>AnnualController</code>: 年度检查管理</li>
                </ul>
            </div>

            <h2>3.7 验收管理模块</h2>
            <div class="module-box">
                <h3>功能描述</h3>
                <p>项目完成后，组织专家对项目成果进行全面验收评估。</p>
                
                <h3>主要功能点</h3>
                <ul>
                    <li>验收申请：项目负责人提交验收申请</li>
                    <li>材料审核：形式审查验收材料的完整性</li>
                    <li>专家验收：组织专家进行现场或网络验收</li>
                    <li>验收结论：生成验收结论和评审意见</li>
                    <li>结项处理：通过验收的项目办理结项手续</li>
                </ul>
                
                <h3>关键Controller</h3>
                <ul>
                    <li><code>AcceptanceController</code>: 验收管理</li>
                </ul>
            </div>

            <h2>3.8 成果管理模块</h2>
            <div class="module-box">
                <h3>功能描述</h3>
                <p>对项目产出的科研成果进行登记、管理和展示。</p>
                
                <h3>主要功能点</h3>
                <ul>
                    <li>成果登记：录入论文、专利、软著等成果信息</li>
                    <li>成果审核：对成果真实性进行审核</li>
                    <li>成果转化：登记成果转化和应用情况</li>
                    <li>获奖管理：记录项目获奖情况</li>
                    <li>成果统计：统计分析各类成果产出情况</li>
                </ul>
                
                <h3>关键Controller</h3>
                <ul>
                    <li><code>AchievementController</code>: 成果管理</li>
                    <li><code>AwardController</code>: 获奖管理</li>
                </ul>
            </div>

            <h2>3.9 资源共享模块</h2>
            <div class="module-box">
                <h3>功能描述</h3>
                <p>实现科研仪器设备、基础数据、专业软件等资源的共享和管理。</p>
                
                <h3>主要功能点</h3>
                <ul>
                    <li>设备管理：科研仪器设备信息登记和展示</li>
                    <li>设备预约：支持在线预约使用设备</li>
                    <li>数据共享：基础数据资源的发布和下载</li>
                    <li>软件共享：专业软件的共享使用申请</li>
                    <li>使用统计：统计资源使用情况</li>
                </ul>
                
                <h3>关键Controller</h3>
                <ul>
                    <li><code>ResourceController</code>: 资源管理</li>
                </ul>
            </div>

            <h2>3.10 需求管理模块</h2>
            <div class="module-box">
                <h3>功能描述</h3>
                <p>企业或单位发布科研需求，科研单位响应并竞标。</p>
                
                <h3>主要功能点</h3>
                <ul>
                    <li>需求发布：企业发布科研技术需求</li>
                    <li>需求审核：主管部门审核需求信息</li>
                    <li>需求竞标：科研单位查看并响应需求</li>
                    <li>中标管理：需求方选择中标单位</li>
                    <li>需求跟踪：跟踪需求项目执行情况</li>
                </ul>
                
                <h3>关键Controller</h3>
                <ul>
                    <li><code>DemandController</code>: 需求管理</li>
                </ul>
            </div>

            <h2>3.11 系统管理模块</h2>
            <div class="module-box">
                <h3>功能描述</h3>
                <p>提供系统运行所需的基础管理功能，包括用户管理、权限管理、数据字典等。</p>
                
                <h3>主要功能点</h3>
                <ul>
                    <li>用户管理：用户注册、审核、启用/禁用</li>
                    <li>角色管理：角色定义、权限配置</li>
                    <li>权限管理：菜单权限、按钮权限、数据权限</li>
                    <li>机构管理：科研单位信息管理和资质审核</li>
                    <li>数据字典：系统各类字典数据维护</li>
                    <li>工作流配置：审批流程的可视化配置</li>
                    <li>通知管理：系统通知的发布和管理</li>
                    <li>文件管理：上传文件的存储和管理</li>
                </ul>
                
                <h3>关键Controller</h3>
                <ul>
                    <li><code>UserController</code>: 用户管理</li>
                    <li><code>RoleController</code>: 角色管理</li>
                    <li><code>PermissionController</code>: 权限管理</li>
                    <li><code>InstitutionController</code>: 机构管理</li>
                    <li><code>DictionaryController</code>: 数据字典管理</li>
                    <li><code>WorkflowController</code>: 工作流管理</li>
                    <li><code>NoticeController</code>: 通知管理</li>
                    <li><code>FileController</code>: 文件管理</li>
                </ul>
            </div>
        </div>

        <!-- 第4章 数据库设计 -->
        <div id="database" class="page-break">
            <h1>4. 数据库设计</h1>

            <h2>4.1 数据库概述</h2>
            <p>系统采用MySQL 8.0关系型数据库，使用InnoDB存储引擎，字符集为UTF-8MB4。数据库设计遵循第三范式，确保数据的一致性和完整性。</p>

            <h2>4.2 核心数据表</h2>
            
            <h3>4.2.1 用户相关表</h3>
            <table>
                <thead>
                    <tr>
                        <th width="30%">表名</th>
                        <th width="70%">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>users</td>
                        <td>用户基本信息表，存储用户账号、姓名、手机号等</td>
                    </tr>
                    <tr>
                        <td>roles</td>
                        <td>角色表，定义系统中的各种角色</td>
                    </tr>
                    <tr>
                        <td>permissions</td>
                        <td>权限表，存储系统中的菜单和按钮权限</td>
                    </tr>
                    <tr>
                        <td>role_permissions</td>
                        <td>角色权限关联表</td>
                    </tr>
                    <tr>
                        <td>institutions</td>
                        <td>科研单位信息表</td>
                    </tr>
                </tbody>
            </table>

            <h3>4.2.2 项目相关表</h3>
            <table>
                <thead>
                    <tr>
                        <th width="30%">表名</th>
                        <th width="70%">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>projects</td>
                        <td>项目基本信息表</td>
                    </tr>
                    <tr>
                        <td>task_books</td>
                        <td>任务书表</td>
                    </tr>
                    <tr>
                        <td>changes</td>
                        <td>项目变更表</td>
                    </tr>
                    <tr>
                        <td>midterms</td>
                        <td>中期检查表</td>
                    </tr>
                    <tr>
                        <td>annuals</td>
                        <td>年度检查表</td>
                    </tr>
                    <tr>
                        <td>acceptances</td>
                        <td>项目验收表</td>
                    </tr>
                </tbody>
            </table>

            <h3>4.2.3 专家评审相关表</h3>
            <table>
                <thead>
                    <tr>
                        <th width="30%">表名</th>
                        <th width="70%">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>experts</td>
                        <td>专家信息表</td>
                    </tr>
                    <tr>
                        <td>expert_reviews</td>
                        <td>专家评审记录表</td>
                    </tr>
                </tbody>
            </table>

            <h3>4.2.4 成果相关表</h3>
            <table>
                <thead>
                    <tr>
                        <th width="30%">表名</th>
                        <th width="70%">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>achievements</td>
                        <td>科研成果表</td>
                    </tr>
                    <tr>
                        <td>awards</td>
                        <td>获奖信息表</td>
                    </tr>
                </tbody>
            </table>

            <h3>4.2.5 资源和需求相关表</h3>
            <table>
                <thead>
                    <tr>
                        <th width="30%">表名</th>
                        <th width="70%">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>resources</td>
                        <td>科研资源表（设备、数据、软件）</td>
                    </tr>
                    <tr>
                        <td>demands</td>
                        <td>科研需求表</td>
                    </tr>
                </tbody>
            </table>

            <h3>4.2.6 系统管理相关表</h3>
            <table>
                <thead>
                    <tr>
                        <th width="30%">表名</th>
                        <th width="70%">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>dictionary</td>
                        <td>数据字典表</td>
                    </tr>
                    <tr>
                        <td>dictionary_items</td>
                        <td>数据字典项表</td>
                    </tr>
                    <tr>
                        <td>workflows</td>
                        <td>工作流定义表</td>
                    </tr>
                    <tr>
                        <td>notices</td>
                        <td>系统通知表</td>
                    </tr>
                    <tr>
                        <td>files</td>
                        <td>文件信息表</td>
                    </tr>
                </tbody>
            </table>

            <h2>4.3 数据库ER图</h2>
            <div class="diagram">
                <svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
                    <text x="400" y="300" text-anchor="middle" fill="#7f8c8d" font-size="18">
                        [数据库ER图 - 包含20+核心表的关系]
                    </text>
                    <text x="400" y="330" text-anchor="middle" fill="#95a5a6" font-size="14">
                        详细ER图请参考详细设计说明书
                    </text>
                </svg>
                <p><strong>图4-1 数据库ER图</strong></p>
            </div>

            <h2>4.4 数据字典示例</h2>
            
            <h3>users表（用户表）</h3>
            <table>
                <thead>
                    <tr>
                        <th width="20%">字段名</th>
                        <th width="15%">类型</th>
                        <th width="10%">主键</th>
                        <th width="10%">非空</th>
                        <th width="45%">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>id</td>
                        <td>BIGINT</td>
                        <td>是</td>
                        <td>是</td>
                        <td>主键ID，自增</td>
                    </tr>
                    <tr>
                        <td>username</td>
                        <td>VARCHAR(50)</td>
                        <td>否</td>
                        <td>是</td>
                        <td>用户名，唯一</td>
                    </tr>
                    <tr>
                        <td>password</td>
                        <td>VARCHAR(100)</td>
                        <td>否</td>
                        <td>是</td>
                        <td>密码（加密存储）</td>
                    </tr>
                    <tr>
                        <td>real_name</td>
                        <td>VARCHAR(50)</td>
                        <td>否</td>
                        <td>是</td>
                        <td>真实姓名</td>
                    </tr>
                    <tr>
                        <td>phone</td>
                        <td>VARCHAR(20)</td>
                        <td>否</td>
                        <td>否</td>
                        <td>手机号</td>
                    </tr>
                    <tr>
                        <td>email</td>
                        <td>VARCHAR(100)</td>
                        <td>否</td>
                        <td>否</td>
                        <td>电子邮箱</td>
                    </tr>
                    <tr>
                        <td>institution_id</td>
                        <td>BIGINT</td>
                        <td>否</td>
                        <td>否</td>
                        <td>所属单位ID</td>
                    </tr>
                    <tr>
                        <td>role_id</td>
                        <td>BIGINT</td>
                        <td>否</td>
                        <td>是</td>
                        <td>角色ID</td>
                    </tr>
                    <tr>
                        <td>status</td>
                        <td>TINYINT</td>
                        <td>否</td>
                        <td>是</td>
                        <td>状态：0-禁用，1-启用</td>
                    </tr>
                    <tr>
                        <td>create_time</td>
                        <td>DATETIME</td>
                        <td>否</td>
                        <td>是</td>
                        <td>创建时间</td>
                    </tr>
                    <tr>
                        <td>update_time</td>
                        <td>DATETIME</td>
                        <td>否</td>
                        <td>是</td>
                        <td>更新时间</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- 第5章 接口设计 -->
        <div id="interface" class="page-break">
            <h1>5. 接口设计</h1>

            <h2>5.1 接口规范</h2>
            <p>系统采用RESTful API设计风格，所有接口遵循统一的规范。</p>

            <h3>5.1.1 请求格式</h3>
            <ul>
                <li>请求协议：HTTPS</li>
                <li>请求方法：GET、POST、PUT、DELETE</li>
                <li>请求头：
                    <ul>
                        <li><code>Content-Type: application/json</code></li>
                        <li><code>Authorization: Bearer {token}</code></li>
                    </ul>
                </li>
                <li>请求体：JSON格式</li>
            </ul>

            <h3>5.1.2 响应格式</h3>
            <p>所有接口采用统一的响应格式：</p>
            <pre style="background:#f4f4f4; padding:15px; border-radius:5px; overflow-x:auto;">
{
    "code": 200,          // 响应码：200成功，其他失败
    "message": "success", // 响应消息
    "data": {}           // 响应数据
}
            </pre>

            <h2>5.2 核心接口列表</h2>

            <h3>5.2.1 认证接口</h3>
            <table>
                <thead>
                    <tr>
                        <th width="25%">接口名称</th>
                        <th width="15%">请求方法</th>
                        <th width="40%">接口路径</th>
                        <th width="20%">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>用户登录</td>
                        <td>POST</td>
                        <td>/api/auth/login</td>
                        <td>用户名密码登录</td>
                    </tr>
                    <tr>
                        <td>短信登录</td>
                        <td>POST</td>
                        <td>/api/auth/login-sms</td>
                        <td>手机验证码登录</td>
                    </tr>
                    <tr>
                        <td>用户注册</td>
                        <td>POST</td>
                        <td>/api/auth/register</td>
                        <td>新用户注册</td>
                    </tr>
                    <tr>
                        <td>退出登录</td>
                        <td>POST</td>
                        <td>/api/auth/logout</td>
                        <td>用户退出登录</td>
                    </tr>
                    <tr>
                        <td>刷新Token</td>
                        <td>POST</td>
                        <td>/api/auth/refresh</td>
                        <td>刷新访问令牌</td>
                    </tr>
                    <tr>
                        <td>修改密码</td>
                        <td>POST</td>
                        <td>/api/auth/change-password</td>
                        <td>修改登录密码</td>
                    </tr>
                </tbody>
            </table>

            <h3>5.2.2 项目管理接口</h3>
            <table>
                <thead>
                    <tr>
                        <th width="25%">接口名称</th>
                        <th width="15%">请求方法</th>
                        <th width="40%">接口路径</th>
                        <th width="20%">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>项目列表</td>
                        <td>GET</td>
                        <td>/api/projects</td>
                        <td>分页查询项目列表</td>
                    </tr>
                    <tr>
                        <td>项目详情</td>
                        <td>GET</td>
                        <td>/api/projects/{id}</td>
                        <td>获取项目详细信息</td>
                    </tr>
                    <tr>
                        <td>创建项目</td>
                        <td>POST</td>
                        <td>/api/projects</td>
                        <td>创建新项目申请</td>
                    </tr>
                    <tr>
                        <td>更新项目</td>
                        <td>PUT</td>
                        <td>/api/projects/{id}</td>
                        <td>更新项目信息</td>
                    </tr>
                    <tr>
                        <td>删除项目</td>
                        <td>DELETE</td>
                        <td>/api/projects/{id}</td>
                        <td>删除项目</td>
                    </tr>
                    <tr>
                        <td>提交项目</td>
                        <td>POST</td>
                        <td>/api/projects/{id}/submit</td>
                        <td>提交项目申请</td>
                    </tr>
                    <tr>
                        <td>形式审查</td>
                        <td>POST</td>
                        <td>/api/projects/{id}/review</td>
                        <td>形式审查项目</td>
                    </tr>
                    <tr>
                        <td>立项审批</td>
                        <td>POST</td>
                        <td>/api/projects/{id}/approve</td>
                        <td>项目立项审批</td>
                    </tr>
                </tbody>
            </table>

            <h3>5.2.3 专家评审接口</h3>
            <table>
                <thead>
                    <tr>
                        <th width="25%">接口名称</th>
                        <th width="15%">请求方法</th>
                        <th width="40%">接口路径</th>
                        <th width="20%">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>评审列表</td>
                        <td>GET</td>
                        <td>/api/expert-reviews</td>
                        <td>获取评审任务列表</td>
                    </tr>
                    <tr>
                        <td>评审详情</td>
                        <td>GET</td>
                        <td>/api/expert-reviews/{id}</td>
                        <td>获取评审任务详情</td>
                    </tr>
                    <tr>
                        <td>创建评审</td>
                        <td>POST</td>
                        <td>/api/expert-reviews</td>
                        <td>创建评审任务</td>
                    </tr>
                    <tr>
                        <td>提交评审</td>
                        <td>POST</td>
                        <td>/api/expert-reviews/{id}/submit</td>
                        <td>专家提交评审意见</td>
                    </tr>
                    <tr>
                        <td>发布结果</td>
                        <td>POST</td>
                        <td>/api/expert-reviews/{id}/publish</td>
                        <td>发布评审结果</td>
                    </tr>
                </tbody>
            </table>

            <div class="note">
                <strong>注意：</strong>接口详细参数说明、请求示例和响应示例请参考详细设计说明书或接口文档。
            </div>

            <h2>5.3 接口安全</h2>
            <p>系统采用JWT（JSON Web Token）进行接口认证，所有需要认证的接口都需要在请求头中携带有效的Token。Token的有效期为24小时，过期后需要使用RefreshToken进行刷新。</p>

            <h3>5.3.1 Token获取流程</h3>
            <ul>
                <li>1. 用户通过登录接口，使用用户名密码进行登录</li>
                <li>2. 后端验证通过后，生成AccessToken和RefreshToken</li>
                <li>3. 前端将Token存储在LocalStorage或Cookie中</li>
                <li>4. 后续请求在Header中携带Token：<code>Authorization: Bearer {token}</code></li>
                <li>5. Token过期前，使用RefreshToken刷新获取新Token</li>
            </ul>

            <h3>5.3.2 接口权限控制</h3>
            <p>系统采用RBAC（基于角色的访问控制）模型，通过角色和权限的配置，实现细粒度的接口访问控制。每个接口都配置了所需的权限标识，用户访问接口时，系统会校验用户是否具有相应权限。</p>
        </div>

        <!-- 第6章 安全性设计 -->
        <div id="security" class="page-break">
            <h1>6. 安全性设计</h1>

            <h2>6.1 身份认证</h2>
            <ul>
                <li><strong>密码加密：</strong>用户密码使用BCrypt算法进行加密存储，不存储明文密码</li>
                <li><strong>Token认证：</strong>采用JWT机制进行身份认证，Token有效期24小时</li>
                <li><strong>双因素认证：</strong>支持短信验证码作为第二认证因素（可选）</li>
                <li><strong>登录限制：</strong>连续5次登录失败后，账号锁定30分钟</li>
            </ul>

            <h2>6.2 授权控制</h2>
            <ul>
                <li><strong>角色权限：</strong>基于RBAC模型，实现角色-权限-用户的三层权限控制</li>
                <li><strong>资源权限：</strong>细粒度控制到菜单、按钮和数据行级别</li>
                <li><strong>接口鉴权：</strong>所有接口都进行权限校验，防止越权访问</li>
                <li><strong>数据隔离：</strong>不同单位的数据进行逻辑隔离，互不可见</li>
            </ul>

            <h2>6.3 数据安全</h2>
            <ul>
                <li><strong>数据加密：</strong>敏感数据（如身份证号）使用AES算法加密存储</li>
                <li><strong>SQL注入防护：</strong>使用参数化查询，防止SQL注入攻击</li>
                <li><strong>XSS防护：</strong>对用户输入进行过滤和转义，防止XSS攻击</li>
                <li><strong>CSRF防护：</strong>使用CSRF Token防止跨站请求伪造</li>
                <li><strong>文件上传限制：</strong>限制上传文件类型、大小，防止恶意文件上传</li>
            </ul>

            <h2>6.4 通信安全</h2>
            <ul>
                <li><strong>HTTPS协议：</strong>生产环境强制使用HTTPS加密传输</li>
                <li><strong>API限流：</strong>对接口进行限流保护，防止恶意刷接口</li>
                <li><strong>敏感操作日志：</strong>记录所有敏感操作的日志，便于审计追踪</li>
            </ul>

            <h2>6.5 安全审计</h2>
            <table>
                <thead>
                    <tr>
                        <th width="30%">审计内容</th>
                        <th width="70%">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>登录日志</td>
                        <td>记录用户登录时间、IP地址、登录结果</td>
                    </tr>
                    <tr>
                        <td>操作日志</td>
                        <td>记录用户的增删改操作，包括操作内容、时间、IP</td>
                    </tr>
                    <tr>
                        <td>审批日志</td>
                        <td>记录审批流程中的所有审批意见和操作</td>
                    </tr>
                    <tr>
                        <td>数据变更日志</td>
                        <td>记录重要数据的变更历史</td>
                    </tr>
                    <tr>
                        <td>异常日志</td>
                        <td>记录系统异常和错误信息</td>
                    </tr>
                </tbody>
            </table>

            <div class="note">
                <strong>安全建议：</strong>
                <ul>
                    <li>定期更新系统依赖包，修复已知安全漏洞</li>
                    <li>定期进行安全渗透测试</li>
                    <li>定期备份数据库，制定灾备方案</li>
                    <li>对系统管理员进行安全培训</li>
                </ul>
            </div>
        </div>

        <!-- 第7章 部署方案 -->
        <div id="deployment" class="page-break">
            <h1>7. 部署方案</h1>

            <h2>7.1 服务器配置要求</h2>
            
            <h3>7.1.1 开发测试环境（最低配置）</h3>
            <table>
                <thead>
                    <tr>
                        <th width="20%">项目</th>
                        <th width="80%">配置</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>CPU</td>
                        <td>4核</td>
                    </tr>
                    <tr>
                        <td>内存</td>
                        <td>8GB</td>
                    </tr>
                    <tr>
                        <td>硬盘</td>
                        <td>100GB SSD</td>
                    </tr>
                    <tr>
                        <td>操作系统</td>
                        <td>Ubuntu 20.04 LTS 或 CentOS 7.9</td>
                    </tr>
                </tbody>
            </table>

            <h3>7.1.2 生产环境（推荐配置）</h3>
            <table>
                <thead>
                    <tr>
                        <th width="20%">服务器</th>
                        <th width="20%">CPU</th>
                        <th width="20%">内存</th>
                        <th width="20%">硬盘</th>
                        <th width="20%">数量</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>应用服务器</td>
                        <td>8核</td>
                        <td>16GB</td>
                        <td>200GB SSD</td>
                        <td>2台</td>
                    </tr>
                    <tr>
                        <td>数据库服务器</td>
                        <td>16核</td>
                        <td>32GB</td>
                        <td>500GB SSD</td>
                        <td>2台（主从）</td>
                    </tr>
                    <tr>
                        <td>Redis服务器</td>
                        <td>4核</td>
                        <td>8GB</td>
                        <td>100GB SSD</td>
                        <td>2台（主从）</td>
                    </tr>
                    <tr>
                        <td>文件服务器</td>
                        <td>4核</td>
                        <td>8GB</td>
                        <td>1TB SSD</td>
                        <td>1台</td>
                    </tr>
                </tbody>
            </table>

            <h2>7.2 软件环境要求</h2>
            <table>
                <thead>
                    <tr>
                        <th width="25%">软件</th>
                        <th width="20%">版本</th>
                        <th width="55%">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>JDK</td>
                        <td>17+</td>
                        <td>Java运行环境</td>
                    </tr>
                    <tr>
                        <td>Node.js</td>
                        <td>18+</td>
                        <td>前端运行环境</td>
                    </tr>
                    <tr>
                        <td>MySQL</td>
                        <td>8.0</td>
                        <td>关系型数据库</td>
                    </tr>
                    <tr>
                        <td>Redis</td>
                        <td>7.x</td>
                        <td>缓存数据库</td>
                    </tr>
                    <tr>
                        <td>Nginx</td>
                        <td>1.20+</td>
                        <td>Web服务器和反向代理</td>
                    </tr>
                </tbody>
            </table>

            <h2>7.3 部署架构图</h2>
            <div class="diagram">
                <svg width="800" height="500" xmlns="http://www.w3.org/2000/svg">
                    <!-- 用户层 -->
                    <rect x="350" y="20" width="100" height="50" fill="#3498db" stroke="#2980b9" stroke-width="2" rx="5"/>
                    <text x="400" y="50" text-anchor="middle" fill="white" font-size="14">用户浏览器</text>
                    
                    <!-- 负载均衡 -->
                    <rect x="330" y="110" width="140" height="50" fill="#e74c3c" stroke="#c0392b" stroke-width="2" rx="5"/>
                    <text x="400" y="140" text-anchor="middle" fill="white" font-size="14">Nginx负载均衡</text>
                    
                    <!-- 应用服务器集群 -->
                    <rect x="100" y="200" width="120" height="60" fill="#27ae60" stroke="#229954" stroke-width="2" rx="5"/>
                    <text x="160" y="235" text-anchor="middle" fill="white" font-size="14">应用服务器1</text>
                    
                    <rect x="280" y="200" width="120" height="60" fill="#27ae60" stroke="#229954" stroke-width="2" rx="5"/>
                    <text x="340" y="235" text-anchor="middle" fill="white" font-size="14">应用服务器2</text>
                    
                    <rect x="460" y="200" width="120" height="60" fill="#27ae60" stroke="#229954" stroke-width="2" rx="5"/>
                    <text x="520" y="235" text-anchor="middle" fill="white" font-size="14">应用服务器N</text>
                    
                    <!-- 数据库层 -->
                    <rect x="80" y="310" width="120" height="60" fill="#f39c12" stroke="#d68910" stroke-width="2" rx="5"/>
                    <text x="140" y="345" text-anchor="middle" fill="white" font-size="14">MySQL主库</text>
                    
                    <rect x="240" y="310" width="120" height="60" fill="#f39c12" stroke="#d68910" stroke-width="2" rx="5"/>
                    <text x="300" y="345" text-anchor="middle" fill="white" font-size="14">MySQL从库</text>
                    
                    <!-- Redis -->
                    <rect x="400" y="310" width="120" height="60" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" rx="5"/>
                    <text x="460" y="345" text-anchor="middle" fill="white" font-size="14">Redis主</text>
                    
                    <rect x="560" y="310" width="120" height="60" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" rx="5"/>
                    <text x="620" y="345" text-anchor="middle" fill="white" font-size="14">Redis从</text>
                    
                    <!-- 文件存储 -->
                    <rect x="250" y="420" width="300" height="60" fill="#34495e" stroke="#2c3e50" stroke-width="2" rx="5"/>
                    <text x="400" y="455" text-anchor="middle" fill="white" font-size="14">文件存储服务器 / OSS</text>
                    
                    <!-- 连接线 -->
                    <line x1="400" y1="70" x2="400" y2="110" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="370" y1="160" x2="160" y2="200" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="400" y1="160" x2="340" y2="200" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="430" y1="160" x2="520" y2="200" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
                    
                    <line x1="160" y1="260" x2="140" y2="310" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="180" y1="260" x2="300" y2="310" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="340" y1="260" x2="460" y2="310" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
                    <line x1="360" y1="260" x2="620" y2="310" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
                    
                    <line x1="340" y1="260" x2="400" y2="420" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
                    
                    <defs>
                        <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#2c3e50" />
                        </marker>
                    </defs>
                </svg>
                <p><strong>图7-1 生产环境部署架构图</strong></p>
            </div>

            <h2>7.4 部署流程</h2>
            
            <h3>7.4.1 后端部署</h3>
            <ol>
                <li>安装Java 17运行环境</li>
                <li>安装并配置MySQL数据库</li>
                <li>导入数据库脚本，初始化数据</li>
                <li>安装并配置Redis</li>
                <li>修改application.yml配置文件，配置数据库连接、Redis连接等</li>
                <li>使用Maven打包：<code>mvn clean package</code></li>
                <li>上传JAR包到服务器</li>
                <li>启动应用：<code>java -jar application.jar</code></li>
                <li>配置为系统服务，开机自启动</li>
            </ol>

            <h3>7.4.2 前端部署</h3>
            <ol>
                <li>安装Node.js环境</li>
                <li>修改环境配置文件，配置后端API地址</li>
                <li>安装依赖：<code>npm install</code></li>
                <li>构建生产包：<code>npm run build</code></li>
                <li>将构建产物部署到Web服务器（Nginx）</li>
                <li>配置Nginx反向代理和静态资源服务</li>
                <li>配置SSL证书，启用HTTPS</li>
                <li>重启Nginx服务</li>
            </ol>

            <h2>7.5 监控运维</h2>
            <p>建议配置以下监控和运维工具：</p>
            <ul>
                <li><strong>应用监控：</strong>Spring Boot Actuator + Prometheus + Grafana</li>
                <li><strong>日志管理：</strong>ELK Stack（Elasticsearch + Logstash + Kibana）</li>
                <li><strong>性能监控：</strong>JVM监控、数据库慢查询监控</li>
                <li><strong>告警通知：</strong>配置邮件、短信告警，及时发现问题</li>
                <li><strong>定期备份：</strong>每天自动备份数据库，保留最近30天的备份</li>
            </ul>

            <div class="note">
                <strong>运维建议：</strong>
                <ul>
                    <li>建立完善的应急预案和故障处理流程</li>
                    <li>定期进行压力测试，评估系统性能</li>
                    <li>定期review系统日志，及时发现潜在问题</li>
                    <li>建立代码版本管理和发布流程</li>
                </ul>
            </div>
        </div>

        <!-- 文档结束 -->
        <div style="margin-top:60px; padding-top:30px; border-top:2px solid #ecf0f1; text-align:center; color:#7f8c8d;">
            <p>— 文档结束 —</p>
            <p style="margin-top:10px; font-size:12px;">科研项目管理系统概要设计说明书 V1.0</p>
        </div>
    </div>
</body>
</html>
