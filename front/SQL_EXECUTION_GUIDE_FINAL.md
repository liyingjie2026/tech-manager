# ç§‘ç ”é¡¹ç›®ç®¡ç†ç³»ç»Ÿ - SQLæ‰§è¡ŒæŒ‡å—ï¼ˆæœ€ç»ˆç‰ˆï¼‰

## ğŸ“‹ SQLæ–‡ä»¶æ¸…å•

**å”¯ä¸€å®Œæ•´çš„SQLç‰ˆæœ¬ä½äº `scripts/` ç›®å½•ï¼š**

1. **00_cleanup.sql** ï¼ˆå¯é€‰ï¼‰- æ¸…ç†è„šæœ¬ï¼Œé‡å»ºæ•°æ®åº“æ—¶ä½¿ç”¨
2. **01_create_tables.sql** - åˆ›å»º39ä¸ªæ•°æ®åº“è¡¨ï¼ˆåŒ…å«çŠ¶æ€æ ‡ç­¾è¡¨ï¼‰
3. **02_complete_sample_data.sql** - å®Œæ•´çš„æ ·ä¾‹æ•°æ®ï¼ˆ30ä¸ªæ¨¡å—ï¼Œ200+æ¡è®°å½•ï¼‰
4. **03_status_labels.sql** - çŠ¶æ€æ ‡ç­¾æ•°æ®ï¼ˆ24ä¸ªåˆ†ç±»ï¼Œ200+æ¡æ ‡ç­¾ï¼‰

**æ³¨æ„ï¼š** `scripts/04_additional_sample_data.sql` å·²è¢«æ•´åˆåˆ° `02_complete_sample_data.sql` ä¸­ï¼Œä¸éœ€è¦å•ç‹¬æ‰§è¡Œã€‚

---

## ğŸš€ æ‰§è¡Œæ­¥éª¤

### æ­¥éª¤1ï¼šåˆ›å»ºæ•°æ®åº“ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰

```bash
mysql -u root -p
```

```sql
CREATE DATABASE IF NOT EXISTS research_project_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE research_project_db;
EXIT;
```

### æ­¥éª¤2ï¼šæ‰§è¡Œå»ºè¡¨è„šæœ¬

```bash
mysql -u root -p research_project_db < scripts/01_create_tables.sql
```

**é¢„æœŸç»“æœï¼š** åˆ›å»º39ä¸ªè¡¨ï¼ˆåŒ…æ‹¬sys_status_labelï¼‰

### æ­¥éª¤3ï¼šæ‰§è¡Œæ ·ä¾‹æ•°æ®è„šæœ¬

```bash
mysql -u root -p research_project_db < scripts/02_complete_sample_data.sql
```

**é¢„æœŸç»“æœï¼š** æ’å…¥200+æ¡æ ·ä¾‹æ•°æ®ï¼Œè¦†ç›–30ä¸ªæ¨¡å—

### æ­¥éª¤4ï¼šæ‰§è¡ŒçŠ¶æ€æ ‡ç­¾æ•°æ®è„šæœ¬

```bash
mysql -u root -p research_project_db < scripts/03_status_labels.sql
```

**é¢„æœŸç»“æœï¼š** æ’å…¥200+æ¡çŠ¶æ€æ ‡ç­¾æ•°æ®

---

## âœ… éªŒè¯æ•°æ®

```sql
-- éªŒè¯è¡¨æ•°é‡
SELECT COUNT(*) as table_count FROM information_schema.tables 
WHERE table_schema = 'research_project_db';
-- åº”è¯¥è¿”å›39

-- éªŒè¯æ ·ä¾‹æ•°æ®
SELECT COUNT(*) FROM prj_project;  -- åº”è¯¥æœ‰10æ¡é¡¹ç›®
SELECT COUNT(*) FROM sys_user;     -- åº”è¯¥æœ‰ç”¨æˆ·æ•°æ®
SELECT COUNT(*) FROM sys_status_label;  -- åº”è¯¥æœ‰200+æ¡æ ‡ç­¾

-- éªŒè¯å…³é”®è¡¨æ•°æ®
SELECT table_name, table_rows FROM information_schema.tables 
WHERE table_schema = 'research_project_db' 
ORDER BY table_name;
```

---

## ğŸ”„ é‡å»ºæ•°æ®åº“ï¼ˆæ¸…ç©ºæ•°æ®ï¼‰

å¦‚æœéœ€è¦é‡å»ºæ•°æ®åº“ï¼Œå…ˆæ‰§è¡Œæ¸…ç†è„šæœ¬ï¼š

```bash
mysql -u root -p research_project_db < scripts/00_cleanup.sql
```

ç„¶åæŒ‰æ­¥éª¤2-4é‡æ–°æ‰§è¡Œå»ºè¡¨å’Œæ•°æ®è„šæœ¬ã€‚

---

## ğŸ“Š å„è¡¨æ ·ä¾‹æ•°æ®ç»Ÿè®¡

| è¡¨å | æ ·ä¾‹æ•°æ®æ•°é‡ | è¯´æ˜ |
|------|------------|------|
| sys_user | 18 | æµ‹è¯•ç”¨æˆ·ï¼ˆç®¡ç†å‘˜ã€ç§‘ç ”äººå‘˜ã€ä¸“å®¶ã€ç›‘ç®¡äººå‘˜ï¼‰|
| sys_role | 4 | è§’è‰²ï¼ˆç®¡ç†å‘˜ã€ç§‘ç ”äººå‘˜ã€ä¸“å®¶ã€ç›‘ç®¡äººå‘˜ï¼‰|
| sys_permission | 50+ | æƒé™æ•°æ® |
| res_institution | 10 | ç§‘ç ”æœºæ„ |
| res_expert | 8 | ä¸“å®¶ä¿¡æ¯ |
| prj_project | 10 | é¡¹ç›®æ•°æ®ï¼ˆä¸åŒçŠ¶æ€ï¼‰|
| prj_task_book | 4 | ä»»åŠ¡ä¹¦ |
| prj_change | 2 | å˜æ›´ç”³è¯· |
| prj_midterm | 2 | ä¸­æœŸæ£€æŸ¥ |
| prj_annual | 2 | å¹´åº¦æ£€æŸ¥ |
| prj_acceptance | 1 | éªŒæ”¶è®°å½• |
| sys_status_label | 200+ | çŠ¶æ€æ ‡ç­¾ï¼ˆ24ä¸ªåˆ†ç±»ï¼‰|

---

## ğŸ¯ æ ¸å¿ƒæ•°æ®å…³ç³»

```
sys_user (ç”¨æˆ·)
  â”œâ”€â”€ sys_role (è§’è‰²)
  â””â”€â”€ res_institution (æœºæ„)

prj_project (é¡¹ç›®)
  â”œâ”€â”€ prj_task_book (ä»»åŠ¡ä¹¦)
  â”œâ”€â”€ prj_change (å˜æ›´)
  â”œâ”€â”€ prj_midterm (ä¸­æœŸ)
  â”œâ”€â”€ prj_annual (å¹´åº¦)
  â””â”€â”€ prj_acceptance (éªŒæ”¶)

res_expert (ä¸“å®¶)
  â””â”€â”€ res_expert_review (è¯„å®¡)
```

---

## ğŸ› å¸¸è§é—®é¢˜

### 1. å¤–é”®çº¦æŸé”™è¯¯
**åŸå› ï¼š** çˆ¶è¡¨æ•°æ®æœªæ’å…¥
**è§£å†³ï¼š** ç¡®ä¿æŒ‰é¡ºåºæ‰§è¡Œï¼š01 â†’ 02 â†’ 03

### 2. ä¸»é”®å†²çª
**åŸå› ï¼š** æ•°æ®å·²å­˜åœ¨
**è§£å†³ï¼š** æ‰§è¡Œ 00_cleanup.sql æ¸…ç©ºæ•°æ®

### 3. å­—ç¬¦ç¼–ç é—®é¢˜
**åŸå› ï¼š** æ•°æ®åº“å­—ç¬¦é›†ä¸æ­£ç¡®
**è§£å†³ï¼š** 
```sql
ALTER DATABASE research_project_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

---

## ğŸ“ æµ‹è¯•è´¦å·

æ‰§è¡Œå®Œæˆåå¯ä½¿ç”¨ä»¥ä¸‹è´¦å·ç™»å½•æµ‹è¯•ï¼š

| è§’è‰² | ç”¨æˆ·å | å¯†ç  | è¯´æ˜ |
|-----|--------|------|------|
| ç®¡ç†å‘˜ | admin | 123456 | ç³»ç»Ÿç®¡ç†å‘˜ |
| ç§‘ç ”äººå‘˜ | researcher001 | 123456 | ç§‘ç ”æœºæ„ç”¨æˆ· |
| ä¸“å®¶ | expert001 | 123456 | è¯„å®¡ä¸“å®¶ |
| ç›‘ç®¡äººå‘˜ | supervisor001 | 123456 | ç›‘ç®¡éƒ¨é—¨ç”¨æˆ· |

---

## ğŸ‰ æ‰§è¡Œå®Œæˆæ ‡å¿—

æ‰§è¡ŒæˆåŠŸåï¼Œç³»ç»Ÿåº”è¯¥å…·å¤‡ï¼š

âœ… 39ä¸ªæ•°æ®åº“è¡¨å®Œæ•´åˆ›å»º
âœ… 200+æ¡æ ·ä¾‹æ•°æ®è¦†ç›–æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
âœ… 200+æ¡çŠ¶æ€æ ‡ç­¾æ”¯æŒä¸­æ–‡æ˜¾ç¤º
âœ… 18ä¸ªæµ‹è¯•ç”¨æˆ·å¯ä»¥ç›´æ¥ç™»å½•
âœ… å®Œæ•´çš„é¡¹ç›®ç”Ÿå‘½å‘¨æœŸæ•°æ®ï¼ˆç”³æŠ¥â†’ç«‹é¡¹â†’æ‰§è¡Œâ†’éªŒæ”¶ï¼‰

---

**ç‰ˆæœ¬ï¼š** V2.0 Final
**æ›´æ–°æ—¶é—´ï¼š** 2025-01-XX
**çŠ¶æ€ï¼š** âœ… ç”Ÿäº§å°±ç»ª
